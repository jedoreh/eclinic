<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Item/Service Registration</title>
    <link rel="icon" href="img/favicon.png">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- animate CSS -->
    <link rel="stylesheet" href="css/animate.css">
    <!-- owl carousel CSS -->
    <link rel="stylesheet" href="css/owl.carousel.min.css">
    <!-- themify CSS -->
    <link rel="stylesheet" href="css/themify-icons.css">
    <!-- flaticon CSS -->
    <link rel="stylesheet" href="css/flaticon.css">
    <!-- magnific popup CSS -->
    <link rel="stylesheet" href="css/magnific-popup.css">
    <!-- nice select CSS -->
    <!-- <link rel="stylesheet" href="css/nice-select.css"> -->
    <!-- swiper CSS -->
    <link rel="stylesheet" href="css/select2.min.css">
    <link rel="stylesheet" href="css/slick.css">
    <!-- style CSS -->
    <link rel="stylesheet" href="css/style.css">
    <style>
        a:hover{
            color:indigo;
        }
    </style>
    <style>
        thead, tbody, tr { display: block; }

        tr:after {
            content: ' ';
            display: block;
            visibility: hidden;
            clear: both;
        }

        

        tbody {
            height: 250px;
            overflow-y: auto;
        }

        thead {
            /* fallback */
        }

        thead th {
            height: 30px;

            /*text-align: left;*/
        }

        tbody td, thead th {
            width: 12.2%;
        }

        
    </style>
</head>

<body>
    <!--::header part start::-->
    <header class="main_menu">
            
        </header>
        <!-- Header part end-->
       
    <!-- breadcrumb start-->
    <section class="breadcrumb breadcrumb_bg">
        <div class="container">
            <div class="row">
                <div class="col-lg-12">
                    <div class="breadcrumb_iner">
                        <div class="form-row">
                            <div class="form-group col-md-2">
                                <span id="username" style="color:#F1F1F1;font-size: 17px;"></span>
                            </div>
                            <div class="form-group col-md-6">
                                <span id="pagetitle" style="color:#F1F1F1;font-size: 20px;font-weight: bolder;">Items/Services Registration</span>
                            </div>
                            <div class="form-group col-md-2">
                                <span id="sysdate" style="color:#F1F1F1"></span>
                            </div>
                            <div class="form-group col-md-2">
                                <span id="systime" style="color:#F1F1F1"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- breadcrumb start-->

    

    <!--::regervation_part start::-->
    <section class="regervation_part padding_bottom" style="margin-top:30px;">
        <div class="container">
            <div class="row align-items-center regervation_content">
                <div class="col-md-12">
                    <div class="regervation_part_iner">
                        <br>
                        <form>
                            <!-- <h2>Items/Services</h2> -->
                            <div class="label label-success" id="errorlogin"></div>
                            <div class="form-row">
                                
                            </div>
                            
                        </form>
                    </div>

                    <div class="card-box">
                       
                        <ul class="nav nav-tabs nav-tabs-solid nav-tabs-rounded nav-justified">
                            <!-- <li class="nav-item"><a class="nav-link btn-primary active" href="#solid-rounded-justified-tab1" data-toggle="tab">Register Item/Service</a></li> -->
                            <!-- <li class="nav-item"><a class="nav-link btn-primary" href="#solid-rounded-justified-tab7" data-toggle="tab">Supplier</a></li> -->
                            <!-- <li class="nav-item"><a class="nav-link btn-primary" href="#solid-rounded-justified-tab3" data-toggle="tab">Category of Importance</a></li> -->
                            <!-- <li class="nav-item"><a class="nav-link btn-primary" href="#solid-rounded-justified-tab4" data-toggle="tab">Location</a></li> -->
                            <!-- <li class="nav-item"><a class="nav-link btn-primary" href="#solid-rounded-justified-tab8" data-toggle="tab">Packaging</a></li> -->
                            <!-- <li class="nav-item dropdown">
                                <a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">Stocking Setup</a>
                                <div class="dropdown-menu dropdown-menu-right">
                                    <a class="dropdown-item" href="#solid-rounded-justified-tab2" data-toggle="tab">Route of Administration</a>
                                    <a class="dropdown-item" href="#solid-rounded-justified-tab3" data-toggle="tab">Category of Importance</a>
                                    <a class="dropdown-item" href="#solid-rounded-justified-tab4" data-toggle="tab">Stock Location</a>
                                    <a class="dropdown-item" href="#solid-rounded-justified-tab5" data-toggle="tab">Physical Position</a> 
                                </div>
                            </li> -->
                            <!-- <li class="nav-item"><a class="nav-link" href="#solid-rounded-justified-tab3" data-toggle="tab">Department Item Group</a></li>
                            <li class="nav-item"><a class="nav-link" href="#solid-rounded-justified-tab4" data-toggle="tab">Generic Name</a></li> -->
                            <!-- <li class="nav-item"><a class="nav-link" href="#solid-rounded-justified-tab5" data-toggle="tab">State</a></li>
                            <li class="nav-item"><a class="nav-link" href="#solid-rounded-justified-tab6" data-toggle="tab">Default Strength</a></li> -->
                        </ul>
                        <div class="tab-content">
                            <div class="tab-pane show active" id="solid-rounded-justified-tab1">
                                <br>
                                <!-- <h3>Item/Service Registration</h3> -->
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12">
                                            
                                            <form action="controllers/index.php" class="form-signin">
                                                <!-- <h2>Register Item/Service</h2> -->
                                                <div class="label label-success" id="stockitem-status"></div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-3">
                                                        Search Generic Name:<br>
                                                        <input type="text" name="searchgenericname" id="searchgenericname" class="form-control" required>

                                                    </div>
                                                    <div class="form-group col-md-5">
                                                        Select Generic Name:<br>
                                                        <select name="selectgenericname" id="selectgenericname" class="form-control" required>

                                                        </select>
                                                        <input type="hidden" id="combined" value="">
                                                        <input type="hidden" id="genericnamecb" value="">
                                                    </div>
                                                    
                                                    
                                                    
                                                    <!-- <div class="form-group col-md-1">
                                                        <input type="checkbox" name="checkcombinedgenericname" id="checkcombinedgenericname" class="form-control">
                                                       </div>
                                                       <div class="form-group col-md-2">
                                                        Combined Generic Name
                   
                                                        
                                                    </div>
                                                    <div class="form-group col-md-9">
                                                        <div id="combinedgenericform">
                                                        Combined Generic Name:<br>
                                                        <select name="combinedgenericname" id="combinedgenericname" class="form-control select" multiple>

                                                        </select><br>
                                                    </div>
                                                    </div>  -->
                                                    <div class="form-group col-md-4">
                                                        Select Department:<br>
                                                        <select name="selectdepartment" id="selectdepartment" class="form-control" required>

                                                        </select>
                                                        <input type="hidden" id="departmentcode">
                                                        <input type="hidden" id="subdepartmentcode">
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        Select Department Item Group:<br>
                                                        <select name="selectdepartmentitemgroup" id="selectdepartmentitemgroup" class="form-control" required>

                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        Select Sub-Department:<br>
                                                        <select name="selectsubdepartment" id="selectsubdepartment" class="form-control" required>

                                                        </select>
                                                    </div>
                                                    
                                                    <div class="form-group col-md-4">
                                                        Select Group:<br>
                                                        <select name="selectusagegroup" id="selectusagegroup" class="form-control" required>

                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        Select Class:<br>
                                                        <select name="selectusageclass" id="selectusageclass" class="form-control" required>

                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-4">
                                                        Select SubClass:<br>
                                                        <select name="selectusagesubclass" id="selectusagesubclass" class="form-control" required>

                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-12">
                                                        <h2>FORMULATION</h2>
                                                    </div>
                                                    
                                                    <div class="form-group col-md-4">
                                                        Select Form:<br>
                                                        <select name="selectform" id="selectform" class="form-control" required>

                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-2">
                                                        Form Abbr:<br>
                                                        <div name="selectformabbr" id="selectformabbr" class="form-control">

                                                        </div>
                                                    </div>
                                                    <div class="form-group col-md-2">
                                                        Form Code:<br>
                                                        <div name="selectformcode" id="selectformcode" class="form-control">

                                                        </div>
                                                    </div>
                                                    <div class="form-group col-md-12">
                                                        <h2>LAB</h2>
                                                    </div>
                                                    
                                                    <div class="form-group col-md-3">
                                                        Specimen:<br>
                                                        <select name="specimen" id="specimen" class="form-control" required>

                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-3">
                                                        Sample Collection:<br>
                                                        <select name="sample" id="sample" class="form-control" required>

                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        Special Instruction:<br>
                                                        <textarea name="specialinstruction" id="specialinstruction" class="form-control" required>

                                                        </textarea>
                                                    </div>
                          
                                                   
                                                    <div class="form-group col-md-12">
                                                        <h2>STRENGTH</h2>
                                                    </div>
                                                    <div class="form-group col-12" style="display: flex; flex-direction: row; align-content: center;">
                                                        
                                                        
                                                            <input type="checkbox" name="checkcombinedstrength" id="checkcombinedstrength" style="height: 25px;width:25px;">
                                                            <span style="margin-left: 5px;font-size: large;">Combined Item Strength </span>
                                                          
                       
                                                    </div>
                                                    <div class="form-group col-md-2">
                                                        Select State:<br>
                                                        <select name="selectstate" id="selectstate" class="form-control" required>

                                                        </select>
                                                        
                                                    </div>
                                                    <div class="form-group col-md-10">
                                                        <br>
                                                        <!--Solid-->
                                                        
                                                        <div id="solidstrength">
                                                            <div class="row">
                                                                <div class="col-3">
                                                                    Value<br>
                                                                    <span id="solidstrengthvalue"></span>
                                                                </div>
                                                                <div class="col-1">
                                                                    Wt<br>
                                                                    <select name="selectsolidweightunit" id="selectsolidweightunit" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                                <div class="col-2">
                                                                    Form<br>
                                                                    <select name="selectsolidform" id="selectsolidform" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;in</div>
                                                                <div class="col-2">
                                                                    Container<br>
                                                                    <select name="selectsolidcontainer" id="selectsolidcontainer" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;of</div>
                                                                <div class="col-1">
                                                                    Pieces<br>
                                                                    <input type="number" min="1" max="100" id="solidpieces" placeholder="Pieces" style="width:40px">
                                                                </div>
                                                            </div>
                                                            
                                                            
                                                        </div>
                                                        <!--Liquid-->
                                                        <div id="liquidstrength">
                                                            <div class="row">
                                                                <!-- <div class="col-3">
                                                                    Value<br>
                                                                    <span id="liquidstrengthvalue"></span>
                                                                </div>
                                                                <div class="col-1">
                                                                    Wt<br>
                                                                    <select name="selectliquidweightunit" id="selectliquidweightunit" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                                -->
                                                                <div class="col-3">
                                                                    Value<br>
                                                                    <span id="liquidstrengthvalue"></span>
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Vol<br>
                                                                    <select name="selectliquidvolumeunit" id="selectliquidvolumeunit" style="margin-top:5px;">

                                                                    </select> 
                                                                </div>
                                                                <div class="col-1">
                                                                    Form<br>
                                                                    <select name="selectliquidform" id="selectliquidform" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                                <div class="col-1">
                                                                    Value<br>
                                                                    <input type="text" class="liquidcontainervolumevalue" id="liquidcontainervolumevalue" style="width:40px">
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Vol<br>
                                                                    <select name="selectliquidcontainervolumeunit" id="selectliquidcontainervolumeunit" style="margin-top:5px;">

                                                                    </select> 
                                                                </div>
                                                                <div class="col-1">
                                                                    Container<br>
                                                                    <select name="selectliquidcontainer" id="selectliquidcontainer" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!--Gas-->
                                                        <div id="gasstrength">
                                                            <div class="row">
                                                                <!-- <div class="col-2">
                                                                    Value<br>
                                                                    <span id="gasstrengthvalue"></span>
                                                                </div>
                                                                <div class="col-1">
                                                                    Wt<br>
                                                                    <select name="selectgasweightunit" id="selectgasweightunit" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;:</div>
                                                                 -->
                                                                <div class="col-3">
                                                                    Value<br>
                                                                    <span id="gasstrengthvalue"></span>
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Wgt<br>
                                                                    <select name="selectgasvolumeunit" id="selectgasvolumeunit" style="margin-top:5px;">

                                                                    </select> 
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                                <div class="col-1">
                                                                    Value<br>
                                                                    <input type="text" class="gascontainervolume" id="gascontainervolume" style="width:40px">
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Vol<br>
                                                                    <select name="selectgascontainervolumeunit" id="selectgascontainervolumeunit" style="margin-top:5px;">

                                                                    </select> 
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;in</div>
                                                                <div class="col-1">
                                                                    Container<br>
                                                                    <select name="selectgascontainer" id="selectgascontainer" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!--############# MOVE THIS ENTIRE THING TO GAS PRESCRIPTION #################-->
                                                        <!-- <div id="gasstrength">
                                                            <div class="row">
                                                                <div class="col-2">
                                                                    Value<br>
                                                                    <span id="gasstrengthvalue"></span>
                                                                </div>
                                                                <div class="col-1">
                                                                    Wt<br>
                                                                    <select name="selectgasweightunit" id="selectgasweightunit" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;:</div>
                                                                
                                                                <div class="col-1">
                                                                    Value<br>
                                                                    <input type="text" class="gasvolumevalue" id="gasvolumevalue" style="width:40px">
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Vol<br>
                                                                    <select name="selectgasvolumeunit" id="selectgasvolumeunit" style="margin-top:5px;">

                                                                    </select> 
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                                <div class="col-1">
                                                                    Value<br>
                                                                    <input type="text" class="gastimevalue" id="gastimevalue" style="width:40px">
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Time<br>
                                                                    <select name="selectgastimevalue" id="selectgastimevalue" style="margin-top:5px;">
                                                                        <option value="Hr">Hours</option>
                                                                        <option value="Mins">Minutes</option>
                                                                        <option value="Sec">Seconds</option>
                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">via</div>
                                                                <div class="col-1">
                                                                    Route<br>
                                                                    <select name="selectgasroute" id="selectgasroute" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div> -->
                                                        <!--Service-->
                                                        <div id="servicestrength">
                                                            <div class="row">
                                                                <div class="col-3">
                                                                    Value:<br>
                                                                    <span id="servicevalue"></span>
                                                                </div>
                                                                <div class="col-2">
                                                                    Unit<br>
                                                                    <select name="selectserviceunit" id="selectserviceunit" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <!-- <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;/</div> -->
                                                                <div class="col-1">
                                                                    Form<br>
                                                                    
                                                                    <select name="selectserviceroute" id="selectserviceroute" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:50px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                                <div class="col-2">
                                                                    Service Duration<br>
                                                                    
                                                                    <input type="number" value="1" min="1" max="1000" name="selectserviceduration" id="selectserviceduration" style="margin-top:5px;">

                                                                </div>
                                                                <div class="col-1">
                                                                    Period<br>
                                                                    
                                                                    <select name="selectserviceperiod" id="selectserviceperiod" style="margin-top:5px;">
                                                                        <option value="DAY(S)">DAY(S)</option>
                                                                        <option value="WEEK(S)">WEEK(S)</option>
                                                                        <option value="MONTH(S)">MONTH(S)</option>
                                                                        <option value="YEAR(S)">YEAR(S)</option>
                                                                        <option value="USE">USE</option>
                                                                        <option value="TEST">TEST</option>
                                                                        <option value="SERVICE">SERVICE</option>
                                                                        <option value="PATIENT">PATIENT</option>
                                                                        <option value="REQUEST">REQUEST</option>
                                                                        <option value="CONSULTATION">CONSULTATION</option>
                                                                        <option value="CONTAINER">CONTAINER</option>
                                                                        <option value="CORPSE">CORPSE</option>
                                                                        <option value="COST">COST</option>
                                                                    </select>
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                        <!--Sundry Item-->
                                                        <div id="item_strength">
                                                            <div class="row">
                                                                <div class="col-3">
                                                                    Value:<br>
                                                                    <span id="itemvalue"></span>
                                                                </div>
                                                                <div class="col-1">
                                                                    Unit<br>
                                                                    <select name="selectitemunit" id="selectitemunit" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;of</div>
                                                                <div class="col-2">
                                                                    Item Quantity<br>
                                                                    
                                                                    <input type="number" value="1" min="1" max="1000" name="selectitemquantity" id="selectitemquantity" style="margin-top:5px;">

                                                                </div>
                                                                <div class="col-1">
                                                                    Form<br>
                                                                    
                                                                    <select name="selectitemroute" id="selectitemroute" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:50px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                                <div class="col-2">
                                                                    Item Duration<br>
                                                                    
                                                                    <input type="number" value="1" min="1" max="1000" name="selectitemduration" id="selectitemduration" style="margin-top:5px;">

                                                                </div>
                                                                <div class="col-1">
                                                                    Period<br>
                                                                    
                                                                    <select name="selectitemperiod" id="selectitemperiod" style="margin-top:5px;">
                                                                        <option value="DAY(S)">DAY(S)</option>
                                                                        <option value="WEEK(S)">WEEK(S)</option>
                                                                        <option value="MONTH(S)">MONTH(S)</option>
                                                                        <option value="YEAR(S)">YEAR(S)</option>
                                                                        <option value="USE">USE</option>
                                                                        <option value="TEST">TEST</option>
                                                                        <option value="SERVICE">SERVICE</option>
                                                                        <option value="ITEM">ITEM</option>
                                                                        <option value="CONTAINER">CONTAINER</option>
                                                                        <option value="PATIENT">PATIENT</option>
                                                                        <option value="COST">COST</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <!--Capital Item-->
                                                        <div id="capitalitem_strength">
                                                            <div class="row">
                                                                <div class="col-3">
                                                                    Value:<br>
                                                                    <span id="capitalitemvalue"></span>
                                                                </div>
                                                                <div class="col-2">
                                                                    Unit<br>
                                                                    <select name="capitalselectitemunit" id="capitalselectitemunit" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <!-- <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;/</div> -->
                                                                <div class="col-1">
                                                                    Form<br>
                                                                    
                                                                    <select name="capitalselectitemroute" id="capitalselectitemroute" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:50px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                                <div class="col-2">
                                                                    Item Duration<br>
                                                                    
                                                                    <input type="number" value="1" min="1" max="1000" name="capitalselectitemduration" id="capitalselectitemduration" style="margin-top:5px;">

                                                                </div>
                                                                <div class="col-1">
                                                                    Period<br>
                                                                    
                                                                    <select name="capitalselectitemperiod" id="capitalselectitemperiod" style="margin-top:5px;">
                                                                        <option value="DAY(S)">DAY(S)</option>
                                                                        <option value="WEEK(S)">WEEK(S)</option>
                                                                        <option value="MONTH(S)">MONTH(S)</option>
                                                                        <option value="YEAR(S)">YEAR(S)</option>
                                                                        <option value="USE">USE</option>
                                                                        <option value="TEST">TEST</option>
                                                                        <option value="SERVICE">SERVICE</option>
                                                                        <option value="ITEM">ITEM</option>
                                                                        <option value="COST">COST</option>
                                                                        <option value="PATIENT">PATIENT</option>
                                                                        <option value="CONTAINER">CONTAINER</option>
                                                                    </select>
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                        <!--Reagent-->
                                                        <div id="reagentstrength">
                                                            <div class="row">
                                                                <div class="col-3">
                                                                    Value:<br>
                                                                    <span id="reagentvalue"></span>
                                                                </div>
                                                                <div class="col-1">
                                                                    Volume<br>
                                                                    <select name="selectreagentvolume" id="selectreagentvolume" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;in</div>
                                                               
                                                                <div class="col-1">
                                                                    Value:<br>
                                                                    <input type="text" class="liquidsolutionvalue" id="liquidsolutionvalue" style="width:40px">
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Volume<br>
                                                                    <select name="selectliquidsolutionvolume" id="selectliquidsolutionvolume" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1">
                                                                    Form<br>
                                                                    <select name="selectreagentform" id="selectreagentform" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                                <div class="col-1">
                                                                    Value:<br>
                                                                    <input type="text" class="liquidsolutioncontainervalue" id="liquidsolutioncontainervalue" style="width:40px">
                                                                    
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Volume<br>
                                                                    <select name="selectliquidsolutioncontainervolume" id="selectliquidsolutioncontainervolume" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1">
                                                                    Container<br>
                                                                    
                                                                    <select name="selectreagentcontainer" id="selectreagentcontainer" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                        <!--Non-Reagent-->
                                                        <div id="nonreagentstrength">
                                                            <div class="row">
                                                                <div class="col-3">
                                                                    Value:<br>
                                                                    <span id="nonreagentvalue"></span>
                                                                </div>
                                                                <div class="col-1">
                                                                    Weight<br>
                                                                    <select name="selectnonreagentweight" id="selectnonreagentweight" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1">
                                                                    Form<br>
                                                                    <select name="selectnonreagentform" id="selectnonreagentform" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                               
                                                                <div class="col-1">
                                                                    Value:<br>
                                                                    <input type="text" class="solidsolutionvalue" id="solidsolutionvalue" style="width:40px">
                                                                    
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Volume<br>
                                                                    <select name="selectsolidsolutionvolume" id="selectsolidsolutionvolume" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;in</div>
                                                                <div class="col-1">
                                                                    Value:<br>
                                                                    <input type="text" class="solidsolutioncontainervalue" id="solidsolutioncontainervalue" style="width:40px">
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Volume<br>
                                                                    <select name="selectsolidsolutioncontainervolume" id="selectsolidsolutioncontainervolume" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1">
                                                                    Container<br>
                                                                    
                                                                    <select name="selectnonreagentcontainer" id="selectnonreagentcontainer" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                        <!--Gas-Reagent-->
                                                        <div id="gasreagentstrength">
                                                            <div class="row">
                                                                <div class="col-3">
                                                                    Value:<br>
                                                                    <span id="gasreagentvalue"></span>
                                                                </div>
                                                                <div class="col-1">
                                                                    Weight/Volume<br>
                                                                    <select name="selectgasreagentvolume" id="selectgasreagentvolume" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;/</div>
                                                               
                                                                <div class="col-1">
                                                                    Value:<br>
                                                                    <input type="text" class="gassolutionvalue" id="gassolutionvalue" style="width:40px">
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Volume<br>
                                                                    <select name="selectgassolutionvolume" id="selectgassolutionvolume" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1" style="padding-left:25px;padding-top:10px;font-size: xx-large;">&nbsp;in</div>
                                                                <div class="col-1">
                                                                    Value:<br>
                                                                    <input type="text" class="gassolutioncontainervalue" id="gassolutioncontainervalue" style="width:40px">
                                                                    
                                                                </div>
                                                                <div class="col-1">
                                                                    Volume<br>
                                                                    <select name="selectgassolutioncontainervolume" id="selectgassolutioncontainervolume" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                <div class="col-1">
                                                                    Container<br>
                                                                    
                                                                    <select name="selectgasreagentcontainer" id="selectgasreagentcontainer" style="margin-top:5px;">

                                                                    </select>
                                                                </div>
                                                                
                                                            </div>
                                                        </div>
                                                        <!-- Enter Strength: <span id="statevalue">Weight</span><br>
                                                        <input type="text" name="itemweight" id="itemweight" placeholder="Enter Value">
                                                        <select name="selectweightunit" id="selectweightunit">

                                                        </select>
                                                        /
                                                        <select name="selectweightformulation" id="selectweightformulation">

                                                        </select>
                                                        <span id="selectitemweightform"></span> -->
                                                    </div>
                                                    <div class="form-group col-md-2"></div>
                                                    <div class="form-group col-md-1">
                                                        Weight<br>
                                                        <input type="text" name="actualweight" id="actualweight" placeholder="Weight" value="0">
                                                        
                                                    </div>
                                                    <div class="form-group col-md-1">
                                                        Volume<br>
                                                        <input type="text" name="actualvolume" id="actualvolume" placeholder="Volume" value="0">
                                                        
                                                    </div>
                                                    <div class="form-group col-md-1">
                                                        Pieces<br>
                                                        <input type="text" name="actualpieces" id="actualpieces" placeholder="Pieces" value="1">
                                                        
                                                    </div>
                                                    <div class="form-group col-md-1">
                                                        Length<br>
                                                        <input type="text" name="actuallength" id="actuallength" placeholder="Length" value="0">
                                                        
                                                    </div>
                                                    <div class="form-group col-md-1">
                                                        Service<br>
                                                        <input type="text" name="actualservice" id="actualservice" placeholder="Service" value="0">
                                                        
                                                    </div>
                                                    <input type="hidden" name="actualmicrogram" id="actualmicrogram" placeholder="MicroGram" value="0">
                                                    <!-- <div class="form-group col-md-1">
                                                        MicroGram(ug)<br>
                                                        
                                                        
                                                    </div> -->
                                                    <div class="form-group col-md-2">
                                                        International Unit(IU)<br>
                                                        <input type="text" name="actualinternationalunit" id="actualinternationalunit" placeholder="International Unit" value="0">
                                                        
                                                    </div>
                                                    <!--
                                                    <div class="form-group col-md-2">
                                                        <input type="checkbox" name="checkcombinedstrength" id="checkcombinedstrength" class="form-control">
                                                       </div>
                                                       <div class="form-group col-md-10">
                                                        Combined Item Strength
                   
                                                        
                                                    </div>
                                                    <div id="combineditemstrengthform">
                                                        <div class="form-group col-md-12"> 
                                                            Enter Combined Strength: <span id="statevalue">Weight</span><br>
                                                            <div id="combinedweight"></div>
                                                             <input type="text" name="itemweight1" id="itemweight1" placeholder="Item 1"> 
                                                             <input type="text" name="itemweight2" id="itemweight2" placeholder="Item 2"> 
                                                            <select name="selectweightunit" id="selectweightunit">
    
                                                            </select>
                                                            /
                                                            <select name="selectweightformulation" id="selectweightformulation">
    
                                                            </select>
                                                            <span id="selectitemweightform"></span>
                                                        </div>
                                                        <div class="form-group col-md-12">
                                                            Enter Combined Strength: <span id="statevalue">Volume</span><br>
                                                            <input type="text" name="itemvolume1" id="itemvolume1" placeholder="Item 1">
                                                            <input type="text" name="itemvolume2" id="itemvolume2" placeholder="Item 2">
                                                            <select name="selectvolumeunit" id="selectvolumeunit">
    
                                                            </select>
                                                            /
                                                            <select name="selectvolumeformulation" id="selectvolumeformulation">
    
                                                            </select>
                                                            <span id="selectitemvolumeform"></span>
                                                        </div>
                                                    </div> -->
         
                                                   
                                                    <!-- <div class="form-group col-md-6">
                                                        Select Usage Route Type:<br>
                                                        <select name="selectusageroutetype" id="selectusageroutetype" class="form-control" required>

                                                        </select>
                                                    </div> -->
                                                    <!-- <div class="form-group col-md-6">
                                                        Select Usage Route:<br>
                                                        <select name="selectusageroute" id="selectusageroute" class="form-control" required>

                                                        </select>
                                                    </div> -->
                        
                                                    <!-- <div class="form-group col-md-12">
                                                        Select Manufacturer Name:<br>
                                                        <select name="selectmanufacturername" id="selectmanufacturername" class="form-control" required>

                                                        </select>
                                                    </div>
                                                    <div class="form-group col-md-10">
                                                        Add Manufacturer<br>
                                                        <input type="text" name="addmanufacturer" class="form-control" id="addmanufacturer">
                                                    </div>
                                                    <div class="form-group col-md-2">
                                                        <br>
                                                        <button class="genric-btn primary" id="add-manufacturer-button">Add</button> 
                                                    </div>
                                                    <div class="form-group col-md-12">
                                                        <input type="text" name="manufacturertradename" class="form-control" id="manufacturertradename" placeholder="Trade Name" required>
                                                    </div> -->
                                                    
                                                    <!-- <div class="form-group col-md-6">
                                                        <input type="text" name="formabbreviation" class="form-control" id="formabbreviation"
                                                            placeholder="Form Abbreviation">
                                                    </div> -->
                                                    <div class="form-edit-stockitem"></div>
                                                    
                                                </div>
                                                <div class="regerv_btn">
                                                    <button type="submit" class="genric-btn primary" id="add-stockitem-button" style="font-size: 24px;border-radius: 8px;">Register Item/Service</button>
                                                    <button type="submit" class="genric-btn primary" id="cancel-stockitem-button" style="font-size: 24px;border-radius: 8px;">Cancel</button>
                                                    <button type="submit" class="genric-btn success" id="edit-stockitem-button" style="font-size: 24px;border-radius: 8px;">Edit Item/Service</button>
                                                    <button type="submit" class="genric-btn danger" id="delete-stockitem-button" style="font-size: 24px;border-radius: 8px;">Confirm Deletion</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                        <div class="col-12">
                                            
                                            <div class="card">
                                                <div class="card-header">
                                                    <h4 class="card-title d-inline-block">View Registered Items/Services</h4>  <p class="btn btn-primary float-right" id="view-stockitem-count"></p>
                                                    <p class="float-right"><input type="text" id="searchitemservice" name="searchitemservice" placeholder="Search Item/Service" style="font-size: 18px;"></p>
                                                </div>
                                                <div class="card-body p-0">
                                                    <div class="table-responsive scrollable">
                                                        <table class="table">
                                                            <thead>
                                                                <tr>
                                                                    <th>Generic Name</th>
                                                                    <th>Department/Sub-Department</th>
                                                                    <th>Usage Group Type/Strength</th>
                                                                    <!-- <th>Department Item Group</th> -->
                                                                    <!-- <th>Action</th> -->
                                                                </tr>
                                                            </thead>
                                                            <tbody id="view-stockitem-list">
                                                                
                                                                
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="solid-rounded-justified-tab2">
                                <br>
                                <h3>Route of Administration</h3>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-6">
                                            
                                            <form action="controllers/index.php" class="form-signin">
                                                <h2>Add Route of Administration</h2>
                                                <div class="label label-success" id="routeofadministration-status"></div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-12">
                                                        <input type="text" name="routeofadministration" class="form-control" id="routeofadministration" placeholder="Route of Administration" required>
                                                    </div>
                                                    <div class="form-group col-md-12">
                                                        <input type="text" name="routeabbreviation" class="form-control" id="routeabbreviation"
                                                            placeholder="Route Abbreviation">
                                                    </div>
                                                    
                                                    <div class="form-edit-routeofadministration"></div>
                                                    
                                                </div>
                                                <div class="regerv_btn">
                                                    <button type="submit" class="genric-btn primary" id="add-routeofadministration-button">Add Route of Administration</button>
                                                    <button type="submit" class="genric-btn warning" id="edit-routeofadministration-button">Edit Route of Administration</button>
                                                    <button type="submit" class="genric-btn danger" id="delete-routeofadministration-button">Confirm Deletion</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                        <div class="col-6">
                                            
                                            <div class="card">
                                                <div class="card-header">
                                                    <h4 class="card-title d-inline-block">View Route of Administration</h4>  <p class="btn btn-primary float-right" id="view-routeofadministration-count"></p>
                                                </div>
                                                <div class="card-body p-0">
                                                    <div class="table-responsive scrollable">
                                                        <table class="table mb-0">
                                                            <thead class="d-none">
                                                                <tr>
                                                                    <th>Route of Administration</th>
                                                                    <th>Abbreviation</th>
                                                                    
                                                                    <th class="text-right">Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="view-routeofadministration-list">
                                                                
                                                                
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="solid-rounded-justified-tab6">
                                <br>
                                <h3>Manufacturers</h3>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12">
                                            
                                            <form action="controllers/index.php" class="form-signin">
                                                <h2>Add Manufacturers</h2>
                                                <div class="label label-success" id="routeofadministration-status"></div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <input type="text" name="manufacturer" class="form-control" id="manufacturer" placeholder="Manufacturer" required>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <input type="text" name="manufacturercode" class="form-control" id="manufacturercode"
                                                            placeholder="Manufacturer Code">
                                                    </div>
                                                    
                                                    <div class="form-edit-manufacturer"></div>
                                                    
                                                </div>
                                                <div class="regerv_btn">
                                                    <button type="submit" class="genric-btn primary" id="add-manufacturer-button" style="font-size: 24px;border-radius: 8px;">Add Manufacturer</button>
                                                    <button type="submit" class="genric-btn primary" id="cancel-manufacturer-button" style="font-size: 24px;border-radius: 8px;">Cancel</button>
                                                    <button type="submit" class="genric-btn success" id="edit-manufacturer-button" style="font-size: 24px;border-radius: 8px;">Edit Manufacturer</button>
                                                    <button type="submit" class="genric-btn danger" id="delete-manufacturer-button" style="font-size: 24px;border-radius: 8px;">Confirm Deletion</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                        <div class="col-12">
                                            
                                            <div class="card">
                                                <div class="card-header">
                                                    <h4 class="card-title d-inline-block">View Manufacturers</h4>  <p class="btn btn-primary float-right" id="view-manufacturer-count"></p>
                                                    <p class="float-right"><input type="text" id="searchmanufacturer" name="searchmanufacturer" placeholder="Search Manufacturer" style="font-size: 18px;"></p>
                                                </div>
                                                <div class="card-body p-0">
                                                    <div class="table-responsive scrollable">
                                                        <table class="table">
                                                            <thead>
                                                                <tr>
                                                                    <th>Manufacturer</th>
                                                                    <th>Code</th>
                                                                    
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="view-manufacturer-list">
                                                                
                                                                
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="solid-rounded-justified-tab7">
                                <br>
                                <h3>Suppliers</h3>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12">
                                            
                                            <form action="controllers/index.php" class="form-signin">
                                                <h2>Add  Suppliers</h2>
                                                <div class="label label-success" id="routeofadministration-status"></div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <input type="text" name="supplier" class="form-control" id="supplier" placeholder="supplier" required>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <input type="text" name="suppliercode" class="form-control" id="suppliercode"
                                                            placeholder="Supplier Code">
                                                    </div>
                                                    
                                                    <div class="form-edit-supplier"></div>
                                                    
                                                </div>
                                                <div class="regerv_btn">
                                                    <button type="submit" class="genric-btn primary" id="add-supplier-button" style="font-size: 24px;border-radius: 8px;">Add Supplier</button>
                                                    <button type="submit" class="genric-btn primary" id="cancel-supplier-button" style="font-size: 24px;border-radius: 8px;">Cancel</button>
                                                    <button type="submit" class="genric-btn success" id="edit-supplier-button" style="font-size: 24px;border-radius: 8px;">Edit Supplier</button>
                                                    <button type="submit" class="genric-btn danger" id="delete-supplier-button" style="font-size: 24px;border-radius: 8px;">Confirm Deletion</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                        <div class="col-12">
                                            
                                            <div class="card">
                                                <div class="card-header">
                                                    <h4 class="card-title d-inline-block">View Suppliers</h4>  <p class="btn btn-primary float-right" id="view-supplier-count"></p>
                                                    <p class="float-right"><input type="text" id="searchsupplier" name="searchsupplier" placeholder="Search Supplier" style="font-size: 18px;"></p>
                                                </div>
                                                <div class="card-body p-0">
                                                    <div class="table-responsive scrollable">
                                                        <table class="table">
                                                            <thead>
                                                                <tr>
                                                                    <th>Supplier</th>
                                                                    <th>Code</th>
                                                                    
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="view-supplier-list">
                                                                
                                                                
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="solid-rounded-justified-tab8">
                                <br>
                                <h3>Packaging</h3>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12">
                                            
                                            <form action="controllers/index.php" class="form-signin">
                                                <h2>Add Packagings</h2>
                                                <div class="label label-success" id="packaging-status"></div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <input type="text" name="packaging" class="form-control" id="packaging" placeholder="Packaging" required>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <input type="text" name="packagingcode" class="form-control" id="packagingcode"
                                                            placeholder="Packaging Code">
                                                    </div>
                                                    
                                                    <div class="form-edit-packaging"></div>
                                                    
                                                </div>
                                                <div class="regerv_btn">
                                                    <button type="submit" class="genric-btn primary" id="add-packaging-button" style="font-size: 24px;border-radius: 8px;">Add Packaging</button>
                                                    <button type="submit" class="genric-btn primary" id="cancel-packaging-button" style="font-size: 24px;border-radius: 8px;">Cancel</button>
                                                    <button type="submit" class="genric-btn success" id="edit-packaging-button" style="font-size: 24px;border-radius: 8px;">Edit Packaging</button>
                                                    <button type="submit" class="genric-btn danger" id="delete-packaging-button" style="font-size: 24px;border-radius: 8px;">Confirm Deletion</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                        <div class="col-12">
                                            
                                            <div class="card">
                                                <div class="card-header">
                                                    <h4 class="card-title d-inline-block">View Packagings</h4>  <p class="btn btn-primary float-right" id="view-packaging-count"></p>
                                                    <p class="float-right"><input type="text" id="searchpackaging" name="searchpackaging" placeholder="Search Packaging" style="font-size: 18px;"></p>
                                                </div>
                                                <div class="card-body p-0">
                                                    <div class="table-responsive scrollable">
                                                        <table class="table">
                                                            <thead>
                                                                <tr>
                                                                    <th>Packaging</th>
                                                                    <th>Code</th>
                                                                    
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="view-packaging-list">
                                                                
                                                                
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="solid-rounded-justified-tab3">
                                <br>
                                <h3>Category of Importance</h3>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-6">
                                            
                                            <form action="controllers/index.php" class="form-signin">
                                                <h2>Add Category of Importance</h2>
                                                <div class="label label-success" id="categoryofimportance-status"></div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-12">
                                                        <input type="text" name="categoryofimportance" class="form-control" id="categoryofimportance" placeholder="Category of Importance" required>
                                                    </div>
                                                    <div class="form-group col-md-12">
                                                        <input type="text" name="categoryabbreviation" class="form-control" id="categoryabbreviation"
                                                            placeholder="Category Abbreviation">
                                                    </div>
                                                    
                                                    <div class="form-edit-categoryofimportance"></div>
                                                    
                                                </div>
                                                <div class="regerv_btn">
                                                    <button type="submit" class="genric-btn primary" id="add-categoryofimportance-button">Add Category of Importance</button>
                                                    <button type="submit" class="genric-btn warning" id="edit-categoryofimportance-button">Edit Category of Importance</button>
                                                    <button type="submit" class="genric-btn danger" id="delete-form-button">Confirm Deletion</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                        <div class="col-6">
                                            
                                            <div class="card">
                                                <div class="card-header">
                                                    <h4 class="card-title d-inline-block">View Category of Importance</h4>  <p class="btn btn-primary float-right" id="view-categoryofimportance-count"></p>
                                                </div>
                                                <div class="card-body p-0">
                                                    <div class="table-responsive scrollable">
                                                        <table class="table mb-0">
                                                            <thead class="d-none">
                                                                <tr>
                                                                    <th>Category of Importance</th>
                                                                    <th>Abbreviation</th>
                                                                    
                                                                    <th class="text-right">Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="view-categoryofimportance-list">
                                                                
                                                                
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="solid-rounded-justified-tab4">
                                <br>
                                <h3>Stock Location</h3>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-12">
                                            
                                            <form action="controllers/index.php" class="form-signin">
                                                <h2>Add Locations</h2>
                                                <div class="label label-success" id="location-status"></div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-6">
                                                        <input type="text" name="location" class="form-control" id="location" placeholder="Location" required>
                                                    </div>
                                                    <div class="form-group col-md-6">
                                                        <input type="text" name="locationcode" class="form-control" id="locationcode"
                                                            placeholder="Location Code">
                                                    </div>
                                                    
                                                    <div class="form-edit-location"></div>
                                                    
                                                </div>
                                                <div class="regerv_btn">
                                                    <button type="submit" class="genric-btn primary" id="add-location-button" style="font-size: 24px;border-radius: 8px;">Add Location</button>
                                                    <button type="submit" class="genric-btn primary" id="cancel-location-button" style="font-size: 24px;border-radius: 8px;">Cancel</button>
                                                    <button type="submit" class="genric-btn success" id="edit-location-button" style="font-size: 24px;border-radius: 8px;">Edit Location</button>
                                                    <button type="submit" class="genric-btn danger" id="delete-location-button" style="font-size: 24px;border-radius: 8px;">Confirm Deletion</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                        <div class="col-12">
                                            
                                            <div class="card">
                                                <div class="card-header">
                                                    <h4 class="card-title d-inline-block">View Locations</h4>  <p class="btn btn-primary float-right" id="view-location-count"></p>
                                                    <p class="float-right"><input type="text" id="searchlocation" name="searchlocation" placeholder="Search Location" style="font-size: 18px;"></p>
                                                </div>
                                                <div class="card-body p-0">
                                                    <div class="table-responsive scrollable">
                                                        <table class="table">
                                                            <thead>
                                                                <tr>
                                                                    <th>Location</th>
                                                                    <th>Code</th>
                                                                    
                                                                    <th>Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="view-location-list">
                                                                
                                                                
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="tab-pane" id="solid-rounded-justified-tab5">
                                <br>
                                <h3>Physical Position</h3>
                                <div class="container">
                                    <div class="row">
                                        <div class="col-6">
                                            
                                            <form action="controllers/index.php" class="form-signin">
                                                <h2>Add Physical Position</h2>
                                                <div class="label label-success" id="physicalposition-status"></div>
                                                <div class="form-row">
                                                    <div class="form-group col-md-12">
                                                        <select name="selectstocklocation" class="form-control" id="selectstocklocation" required></select>
                                                    </div>
                                                    <div class="form-group col-md-12">
                                                        <input type="text" name="physicalposition" class="form-control" id="physicalposition"
                                                            placeholder="Physical Position">
                                                    </div>
                                                    
                                                    <div class="form-edit-physicalposition"></div>
                                                    
                                                </div>
                                                <div class="regerv_btn">
                                                    <button type="submit" class="genric-btn primary" id="add-physicalposition-button">Add Physical Position</button>
                                                    <button type="submit" class="genric-btn warning" id="edit-physicalposition-button">Edit Physical Position</button>
                                                    <button type="submit" class="genric-btn danger" id="delete-physicalposition-button">Confirm Deletion</button>
                                                </div>
                                            </form>
                                            
                                        </div>
                                        <div class="col-6">
                                            
                                            <div class="card">
                                                <div class="card-header">
                                                    <h4 class="card-title d-inline-block">View Physical Position</h4>  <p class="btn btn-primary float-right" id="view-physicalposition-count"></p>
                                                </div>
                                                <div class="card-body p-0">
                                                    <div class="table-responsive scrollable">
                                                        <table class="table mb-0">
                                                            <thead class="d-none">
                                                                <tr>
                                                                    <th>Physical Position</th>
                                                                    <th>Stock Location</th>
                                                                    
                                                                    <th class="text-right">Action</th>
                                                                </tr>
                                                            </thead>
                                                            <tbody id="view-physicalposition-list">
                                                                
                                                                
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- <div class="col-lg-5 col-md-6">
                    <div class="reservation_img">
                        <img src="img/loginphoto.jpg" alt="">
                    </div>
                </div> -->
            </div>
        </div>
    </section>
    <!--::regervation_part end::-->

    
    <!-- footer part start-->
    <footer class="footer-area">

        <div class="copyright_part">
            
        </div>
    </footer>

    <!-- footer part end-->

    <!-- jquery plugins here-->

    <script src="js/jquery-1.12.1.min.js"></script>
    <!-- popper js -->
    <script src="js/popper.min.js"></script>
    <!-- bootstrap js -->
    <script src="js/bootstrap.min.js"></script>
    <!-- easing js -->
    <script src="js/jquery.magnific-popup.js"></script>
    <!-- swiper js -->
    <script src="js/swiper.min.js"></script>
    <!-- swiper js -->
    <script src="js/masonry.pkgd.js"></script>
    <!-- particles js -->
    <script src="js/owl.carousel.min.js"></script>
    <!-- <script src="js/jquery.nice-select.min.js"></script> -->
    <!-- swiper js -->
    <script src="js/slick.min.js"></script>
    <script src="js/jquery.counterup.min.js"></script>
    <script src="js/waypoints.min.js"></script>
    <!-- contact js -->
    <script src="js/jquery.ajaxchimp.min.js"></script>
    <script src="js/jquery.form.js"></script>
    <script src="js/jquery.validate.min.js"></script>
    <script src="js/mail-script.js"></script>
    <script src="js/contact.js"></script>
    <!-- custom js -->
    <script src="js/custom.js"></script>
    <script src="views/masterpage.js"></script>
    <script src="views/stock-item-dispensing.js"></script>
    <script src="js/select2.min.js"></script>
    <script src="js/moment.min.js"></script>
    <!--<script src="views/corpse-list.js"></script> -->
    <script>
        $(document).ready(function(){

            // Select 2
            if($('.select').length > 0) {
                    $('.select').select2({
                        minimumResultsForSearch: -1,
                        width: '100%'
                    });
                
                }

                $("#combinedgenericform").hide()
                $("#combineditemstrengthform").hide()

                $("#checkcombinedgenericname").change(function(){
                    if($("#checkcombinedgenericname").is(":checked")){
                        $("#combinedgenericform").show()
                        
                    } else {
                        $("#combinedgenericform").hide()
                    }
                })
                $("#servicestrength").hide()
                $("#item_strength").hide()
                $("#capitalitem_strength").hide()
                $("#gasstrength").hide()
                $("#liquidstrength").hide()
                $("#reagentstrength").hide()
                $("#nonreagentstrength").hide()
                $("#gasreagentstrength").hide()
                $("#solidstrength").show()
                $("#actualweight").val("0")
                $("#actualvolume").val("0")
                $("#actualpieces").val("1")
                $("#actuallength").val("0")
                $("#actualservice").val("0")
                // $("#actualmicrogram").val("0")
                $("#actualinternationalunit").val("0")
                let selectedstate = "Solid"
                let itemformlist = ``

                $("#selectstate").change(function(){
                    $("#actualweight").val("0")
                    $("#actualvolume").val("0")
                    $("#actualpieces").val("1")
                    $("#actuallength").val("0")
                    $("#actualservice").val("0")
                    // $("#actualmicrogram").val("0")
                    $("#actualinternationalunit").val("0")
                    selectedstate = $("#selectstate").val()
                    if(selectedstate.toUpperCase()=="LIQUID"||selectedstate.toUpperCase()=="SOLUTION"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").show()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()
                    } else if(selectedstate.toUpperCase()=="SOLID"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").show()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()
                    } else if(selectedstate.toUpperCase()=="GAS"){
                        $("#servicestrength").hide()
                        $("#gasstrength").show()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()
                    } else if(selectedstate.toUpperCase()=="SERVICE"){
                        $("#servicestrength").show()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()
                    } else if(selectedstate.toUpperCase()=="SUNDRY ITEMS"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").show()
                        $("#capitalitem_strength").hide()
                    } else if(selectedstate.toUpperCase()=="CAPITAL ITEMS"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").show()
                    } else if(selectedstate.toUpperCase()=="LIQUID-LIQUID SOLUTION"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").show()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()
                    } else if(selectedstate.toUpperCase()=="SOLID-LIQUID SOLUTION"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").show()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()
                    } else if(selectedstate.toUpperCase()=="GAS-LIQUID SOLUTION"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").show()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()
                    }
                    
                    getStrengthValues()
                })
                getStrengthValues()

                function getStateView(genericname, selectedstate, strengthvalue, combined){
                    $("#checkcombinedstrength").prop('checked', false)
                    console.log(combined)
                    if(selectedstate.toUpperCase()=="LIQUID"||selectedstate.toUpperCase()=="SOLUTION"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").show()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()

                        let splitstrengthvalue = strengthvalue.split(" ")
                        let splitweight = splitstrengthvalue[0].split("/")
                        let splitweightcontainer = splitstrengthvalue[1].split(" ")
                        $("#selectliquidvolumeunit").html("<option value'" + splitstrengthvalue[1] + "'>" + splitstrengthvalue[1] + "</option>")
                        $("#selectliquidcontainervolumeunit").html("<option value'" + splitstrengthvalue[4] + "'>" + splitstrengthvalue[4] + "</option>")
                        $("#selectliquidcontainer").html("<option value'" + splitstrengthvalue[5] + "'>" + splitstrengthvalue[5] + "</option>")

                        $("#liquidcontainervolumevalue").val(splitstrengthvalue[3])
                        console.log(splitstrengthvalue)
                        if(combined=="True"){
                            $("#checkcombinedstrength").prop('checked', true)
                        }
                        if($("#checkcombinedstrength").is(":checked")){
                            let genericnamesplit = genericname.split("/")
                            let combinedarray = genericnamesplit
                            let itemstrengthsplit = splitweight[0].split("/")
                            let combinedstrength = itemstrengthsplit
                            let i =0
                            // let solidinputweights = ``
                            let liquidinputweights = ``
                            // let gasinputweights = ``
                            // let serviceinputweights = ``
                            // let iteminputweights = ``
                            // let reagentinputweights = ``
                            // let nonreagentinputweights = ``
                            // let gasreagentinputweights = ``
                            combinedarray.forEach(val => {
                                i++
                                // solidinputweights += `<input class="combinedweighttext" type="text" id="solid_weight_` + i + `" name="solid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                liquidinputweights += `<input type="text" id="liquid_weight_` + i + `" name="liquid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // gasinputweights += `<input type="text" id="gas_weight_` + i + `" name="gas_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // serviceinputweights += `<input type="text" id="service_weight_` + i + `" name="service_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // iteminputweights += `<input class="combineditemtext" type="text" id="item_weight_` + i + `" name="item_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // reagentinputweights += `<input type="text" id="reagent_weight_` + i + `" name="reagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // nonreagentinputweights += `<input class="combinedweighttext" type="text" id="nonreagent_weight_` + i + `" name="nonreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasreagentinputweights += `<input type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                console.log(val)
                                // let button = "#solid_weight_" + i
                                

                            
                            });
                            $("#liquidstrengthvalue").html(liquidinputweights)
                        } else {
                            $("#liquidstrengthvalue").html(`<input type="text" id="liquid_weight_0" name="liquid_weight_0" style="width:40px" placeholder="` + genericname + ` value" title="` + genericname + `" value="` + splitweight[0] + `">`)
                        }
                       
                    } else if(selectedstate.toUpperCase()=="SOLID"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").show()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()

                        let splitstrengthvalue = strengthvalue.split(" ")
                        let splitweight = splitstrengthvalue[1].split("/")
                        $("#selectsolidweightunit").html("<option value'" + splitweight[0] + "'>" + splitweight[0] + "</option>")
                        $("#selectsolidcontainer").html("<option value'" + splitstrengthvalue[3] + "'>" + splitstrengthvalue[3] + "</option>")

                        $("#solidpieces").val(splitstrengthvalue[5])
                        if(combined=="True"){
                            $("#checkcombinedstrength").prop('checked', true)
                        }
                        if($("#checkcombinedstrength").is(":checked")){
                            let genericnamesplit = genericname.split("/")
                            let combinedarray = genericnamesplit
                            let itemstrengthsplit = splitstrengthvalue[0].split("/")
                            let combinedstrength = itemstrengthsplit
                            let i =0
                            let solidinputweights = ``
                            // let liquidinputweights = ``
                            // let gasinputweights = ``
                            // let serviceinputweights = ``
                            // let iteminputweights = ``
                            // let reagentinputweights = ``
                            // let nonreagentinputweights = ``
                            // let gasreagentinputweights = ``
                            combinedarray.forEach(val => {
                                i++
                                solidinputweights += `<input class="combinedweighttext" type="text" id="solid_weight_` + i + `" name="solid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // liquidinputweights += `<input type="text" id="liquid_weight_` + i + `" name="liquid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasinputweights += `<input type="text" id="gas_weight_` + i + `" name="gas_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // serviceinputweights += `<input type="text" id="service_weight_` + i + `" name="service_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // iteminputweights += `<input class="combineditemtext" type="text" id="item_weight_` + i + `" name="item_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // reagentinputweights += `<input type="text" id="reagent_weight_` + i + `" name="reagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // nonreagentinputweights += `<input class="combinedweighttext" type="text" id="nonreagent_weight_` + i + `" name="nonreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasreagentinputweights += `<input type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                console.log(val)
                                // let button = "#solid_weight_" + i
                                

                            
                            });
                            $("#solidstrengthvalue").html(solidinputweights)
                        } else {
                            $("#solidstrengthvalue").html(`<input type="text" id="solid_weight_0" name="solid_weight_0" style="width:40px" placeholder="` + genericname + ` value" title="` + genericname + `" value="` + splitstrengthvalue[0] + `">`)
                        }
                       

                    } else if(selectedstate.toUpperCase()=="GAS"){
                        $("#servicestrength").hide()
                        $("#gasstrength").show()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()

                        let splitstrengthvalue = strengthvalue.split("/")
                        let splitweight = splitstrengthvalue[0].split(" ")
                        let splitweightcontainer = splitstrengthvalue[1].split(" ")
                        $("#selectgasvolumeunit").html("<option value'" + splitweight[1] + "'>" + splitweight[1] + "</option>")
                        $("#selectgascontainervolumeunit").html("<option value'" + splitweightcontainer[2] + "'>" + splitweightcontainer[2] + "</option>")
                        $("#selectgascontainer").html("<option value'" + splitweightcontainer[4] + "'>" + splitweightcontainer[4] + "</option>")

                        $("#gascontainervolume").val(splitweightcontainer[1])
                        if(splitweight[0].includes("/")){
                            $("#checkcombinedstrength").prop('checked', true)
                        }
                        if($("#checkcombinedstrength").is(":checked")){
                            let genericnamesplit = genericname.split("/")
                            let combinedarray = genericnamesplit
                            let itemstrengthsplit = splitweight[0].split("/")
                            let combinedstrength = itemstrengthsplit
                            let i =0
                            // let solidinputweights = ``
                            // let liquidinputweights = ``
                            let gasinputweights = ``
                            // let serviceinputweights = ``
                            // let iteminputweights = ``
                            // let reagentinputweights = ``
                            // let nonreagentinputweights = ``
                            // let gasreagentinputweights = ``
                            combinedarray.forEach(val => {
                                i++
                                // solidinputweights += `<input class="combinedweighttext" type="text" id="solid_weight_` + i + `" name="solid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // liquidinputweights += `<input type="text" id="liquid_weight_` + i + `" name="liquid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                gasinputweights += `<input type="text" id="gas_weight_` + i + `" name="gas_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // serviceinputweights += `<input type="text" id="service_weight_` + i + `" name="service_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // iteminputweights += `<input class="combineditemtext" type="text" id="item_weight_` + i + `" name="item_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // reagentinputweights += `<input type="text" id="reagent_weight_` + i + `" name="reagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // nonreagentinputweights += `<input class="combinedweighttext" type="text" id="nonreagent_weight_` + i + `" name="nonreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasreagentinputweights += `<input type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                console.log(val)
                                // let button = "#solid_weight_" + i
                                

                            
                            });
                            $("#gasstrengthvalue").html(gasinputweights)
                        } else {
                            $("#gasstrengthvalue").html(`<input type="text" id="gas_weight_0" name="gas_weight_0" style="width:40px" placeholder="` + genericname + ` value" title="` + genericname + `" value="` + splitweight[0] + `">`)
                        }
                    } else if(selectedstate.toUpperCase()=="SERVICE"){
                        $("#servicestrength").show()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()

                        let splitstrengthvalue = strengthvalue.split("/")
                        console.log(splitstrengthvalue)
                        let splitweight = splitstrengthvalue[0].split(" ")
                        $("#selectserviceunit").html("<option value='" + splitweight[1] + "'>" + splitweight[1] + "</option>")
                       
                        // $("#solidpieces").val(splitstrengthvalue[5])
                        if(splitstrengthvalue[0].includes("/")){
                            $("#checkcombinedstrength").prop('checked', true)
                        }
                        if($("#checkcombinedstrength").is(":checked")){
                            let genericnamesplit = genericname.split("/")
                            let combinedarray = genericnamesplit
                            let itemstrengthsplit = splitweight[0].split("/")
                            let combinedstrength = itemstrengthsplit
                            let i =0
                            // let solidinputweights = ``
                            // let liquidinputweights = ``
                            // let gasinputweights = ``
                            let serviceinputweights = ``
                            // let iteminputweights = ``
                            // let reagentinputweights = ``
                            // let nonreagentinputweights = ``
                            // let gasreagentinputweights = ``
                            combinedarray.forEach(val => {
                                i++
                                // solidinputweights += `<input class="combinedweighttext" type="text" id="solid_weight_` + i + `" name="solid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i] + `">` 
                                // liquidinputweights += `<input type="text" id="liquid_weight_` + i + `" name="liquid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasinputweights += `<input type="text" id="gas_weight_` + i + `" name="gas_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                serviceinputweights += `<input class="combinedservicetext" type="text" id="service_weight_` + i + `" name="service_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // iteminputweights += `<input class="combineditemtext" type="text" id="item_weight_` + i + `" name="item_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // reagentinputweights += `<input type="text" id="reagent_weight_` + i + `" name="reagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // nonreagentinputweights += `<input class="combinedweighttext" type="text" id="nonreagent_weight_` + i + `" name="nonreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasreagentinputweights += `<input type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                console.log(val, i)
                                // let button = "#solid_weight_" + i
                                

                            
                            });
                            $("#servicevalue").html(serviceinputweights)
                        } else {
                            $("#servicevalue").html(`<input type="text" id="service_weight_0" name="service_weight_0" style="width:40px" placeholder="` + genericname + ` value" title="` + genericname + `" value="` + splitweight[0] + `">`)
                        }

                    } else if(selectedstate.toUpperCase()=="SUNDRY ITEMS"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").show()
                        $("#capitalitem_strength").hide()

                        let itemperiodlist = `

                            <option value="DAY(S)">DAY(S)</option>
                            <option value="WEEK(S)">WEEK(S)</option>
                            <option value="MONTH(S)">MONTH(S)</option>
                            <option value="YEAR(S)">YEAR(S)</option>
                            <option value="USE">USE</option>
                            <option value="TEST">TEST</option>
                            <option value="SERVICE">SERVICE</option>
                            <option value="ITEM">ITEM</option>
                            <option value="CONTAINER">CONTAINER</option>
                            <option value="PATIENT">PATIENT</option>
                            <option value="COST">COST</option>
                        `

                        let splitstrengthvalue = strengthvalue.split("/")
                        console.log(splitstrengthvalue)

                        let splitweight = []
                        let itemperiod = []
                        if(combined=="True"){
                            splitweight = splitstrengthvalue[2].split(" ")
                            itemperiod = splitstrengthvalue[3].split(" ")
                        }else{
                            splitweight = splitstrengthvalue[0].split(" ")
                            itemperiod = splitstrengthvalue[1].split(" ")
                        }

                        $("#selectitemunit").html("<option value='" + splitweight[1] + "'>" + splitweight[1] + "</option>")
                        
                        $("#selectitemperiod").html("<option value='" + itemperiod[1] + "'>" + itemperiod[1] + "</option>" + itemperiodlist)
                        $("#selectitemduration").val(itemperiod[0])
                        
                        let itemquantityform = splitweight[2].split("_")
                        $("#selectitemquantity").val(itemquantityform[1])

                        // $("#solidpieces").val(splitstrengthvalue[5])
                        if(combined="True"){
                            $("#checkcombinedstrength").prop('checked', true)
                        }
                        if($("#checkcombinedstrength").is(":checked")){
                            let genericnamesplit = genericname.split("/")
                            let combinedarray = genericnamesplit
                            let itemstrengthsplit = splitweight[0].split("/")
                            let combinedstrength = itemstrengthsplit
                            let i =0
                            // let solidinputweights = ``
                            // let liquidinputweights = ``
                            // let gasinputweights = ``
                            // let serviceinputweights = ``
                            let iteminputweights = ``
                            // let reagentinputweights = ``
                            // let nonreagentinputweights = ``
                            // let gasreagentinputweights = ``
                            
                            combinedarray.forEach(val => {
                                i++
                                let itemvalue = splitstrengthvalue[i-1]
                                if(itemvalue.includes(" ")){
                                    let splititemvalue = itemvalue.split(" ")
                                    itemvalue = splititemvalue[0]
                                }
                                // solidinputweights += `<input class="combinedweighttext" type="text" id="solid_weight_` + i + `" name="solid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i] + `">` 
                                // liquidinputweights += `<input type="text" id="liquid_weight_` + i + `" name="liquid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasinputweights += `<input type="text" id="gas_weight_` + i + `" name="gas_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // serviceinputweights += `<input type="text" id="service_weight_` + i + `" name="service_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                iteminputweights += `<input class="combineditemtext" type="text" id="item_weight_` + i + `" name="item_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + itemvalue + `">` 
                                // reagentinputweights += `<input type="text" id="reagent_weight_` + i + `" name="reagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // nonreagentinputweights += `<input class="combinedweighttext" type="text" id="nonreagent_weight_` + i + `" name="nonreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasreagentinputweights += `<input type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                console.log(val, i)
                                // let button = "#solid_weight_" + i
                                

                            
                            });
                            $("#itemvalue").html(iteminputweights)
                        } else {
                            $("#itemvalue").html(`<input type="text" id="item_weight_0" name="item_weight_0" style="width:40px" placeholder="` + genericname + ` value" title="` + genericname + `" value="` + splitweight[0] + `">`)
                        }
                       
                    } else if(selectedstate.toUpperCase()=="CAPITAL ITEMS"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").show()

                        let splitstrengthvalue = strengthvalue.split("/")
                        console.log(splitstrengthvalue)
                        let splitweight = splitstrengthvalue[0].split(" ")
                        $("#capitalselectitemunit").html("<option value='" + splitweight[1] + "'>" + splitweight[1] + "</option>")
                       
                        // $("#solidpieces").val(splitstrengthvalue[5])
                        if(splitstrengthvalue[0].includes("/")){
                            $("#checkcombinedstrength").prop('checked', true)
                        }
                        if($("#checkcombinedstrength").is(":checked")){
                            let genericnamesplit = genericname.split("/")
                            let combinedarray = genericnamesplit
                            let itemstrengthsplit = splitweight[0].split("/")
                            let combinedstrength = itemstrengthsplit
                            let i =0
                            // let solidinputweights = ``
                            // let liquidinputweights = ``
                            // let gasinputweights = ``
                            // let serviceinputweights = ``
                            let iteminputweights = ``
                            // let reagentinputweights = ``
                            // let nonreagentinputweights = ``
                            // let gasreagentinputweights = ``
                            combinedarray.forEach(val => {
                                i++
                                // solidinputweights += `<input class="combinedweighttext" type="text" id="solid_weight_` + i + `" name="solid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i] + `">` 
                                // liquidinputweights += `<input type="text" id="liquid_weight_` + i + `" name="liquid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasinputweights += `<input type="text" id="gas_weight_` + i + `" name="gas_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // serviceinputweights += `<input type="text" id="service_weight_` + i + `" name="service_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                iteminputweights += `<input class="combineditemtext" type="text" id="capitalitem_weight_` + i + `" name="capitalitem_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // reagentinputweights += `<input type="text" id="reagent_weight_` + i + `" name="reagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // nonreagentinputweights += `<input class="combinedweighttext" type="text" id="nonreagent_weight_` + i + `" name="nonreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasreagentinputweights += `<input type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                console.log(val, i)
                                // let button = "#solid_weight_" + i
                                

                            
                            });
                            $("#capitalitemvalue").html(iteminputweights)
                        } else {
                            $("#capitalitemvalue").html(`<input type="text" id="capitalitem_weight_0" name="capitalitem_weight_0" style="width:40px" placeholder="` + genericname + ` value" title="` + genericname + `" value="` + splitweight[0] + `">`)
                        }
                       
                    } else if(selectedstate.toUpperCase()=="LIQUID-LIQUID SOLUTION"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").show()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()

                        let splitstrengthvalue = strengthvalue.split(" ")
                        console.log(splitstrengthvalue)
                        let splitweight = splitstrengthvalue[4].split("/")
                        $("#liquidsolutionvalue").val(splitstrengthvalue[3])
                        // $("#liquidsolutionvalue").val(splitstrengthvalue[3])
                        $("#liquidsolutioncontainervalue").val(splitweight[1])
                        
                        $("#selectliquidsolutionvolume").html("<option value'" + splitweight[0] + "'>" + splitweight[0] + "</option>")
                        $("#selectliquidsolutioncontainervolume").html("<option value'" + splitstrengthvalue[5] + "'>" + splitstrengthvalue[5] + "</option>")
                        $("#selectreagentvolume").html("<option value'" + splitstrengthvalue[1] + "'>" + splitstrengthvalue[1] + "</option>")
                        $("#selectsolidcontainer").html("<option value'" + splitstrengthvalue[3] + "'>" + splitstrengthvalue[3] + "</option>")
                        $("#selectreagentcontainer").html("<option value'" + splitstrengthvalue[6] + "'>" + splitstrengthvalue[6] + "</option>")

                        // $("#solidpieces").val(splitstrengthvalue[5])
                        if(splitstrengthvalue[0].includes("/")){
                            $("#checkcombinedstrength").prop('checked', true)
                        }
                        if($("#checkcombinedstrength").is(":checked")){
                            let genericnamesplit = genericname.split("/")
                            let combinedarray = genericnamesplit
                            let itemstrengthsplit = splitstrengthvalue[0].split("/")
                            let combinedstrength = itemstrengthsplit
                            let i =0
                            // let solidinputweights = ``
                            // let liquidinputweights = ``
                            // let gasinputweights = ``
                            // let serviceinputweights = ``
                            // let iteminputweights = ``
                            let reagentinputweights = ``
                            // let nonreagentinputweights = ``
                            // let gasreagentinputweights = ``
                            combinedarray.forEach(val => {
                                i++
                                // solidinputweights += `<input class="combinedweighttext" type="text" id="solid_weight_` + i + `" name="solid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i] + `">` 
                                // liquidinputweights += `<input type="text" id="liquid_weight_` + i + `" name="liquid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasinputweights += `<input type="text" id="gas_weight_` + i + `" name="gas_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // serviceinputweights += `<input type="text" id="service_weight_` + i + `" name="service_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // iteminputweights += `<input class="combineditemtext" type="text" id="item_weight_` + i + `" name="item_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                reagentinputweights += `<input type="text" id="reagent_weight_` + i + `" name="reagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // nonreagentinputweights += `<input class="combinedweighttext" type="text" id="nonreagent_weight_` + i + `" name="nonreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasreagentinputweights += `<input type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                console.log(val, i)
                                // let button = "#solid_weight_" + i
                                

                            
                            });
                            $("#reagentvalue").html(reagentinputweights)
                        } else {
                            $("#reagentvalue").html(`<input type="text" id="reagent_weight_0" name="reagent_weight_0" style="width:40px" placeholder="` + genericname + ` value" title="` + genericname + `" value="` + splitstrengthvalue[0] + `">`)
                        }
                       

                    } else if(selectedstate.toUpperCase()=="SOLID-LIQUID SOLUTION"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").show()
                        $("#gasreagentstrength").hide()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()

                        let splitstrengthvalue = strengthvalue.split(" ")
                        console.log(splitstrengthvalue)
                        let splitweight = splitstrengthvalue[4].split("/")
                        $("#solidsolutionvalue").val(splitstrengthvalue[3])
                        // $("#liquidsolutionvalue").val(splitstrengthvalue[3])
                        $("#solidsolutioncontainervalue").val(splitweight[1])
                        
                        $("#selectsolidsolutionvolume").html("<option value'" + splitweight[0] + "'>" + splitweight[0] + "</option>")
                        $("#selectsolidsolutioncontainervolume").html("<option value'" + splitstrengthvalue[5] + "'>" + splitstrengthvalue[5] + "</option>")
                        $("#selectnonreagentweight").html("<option value'" + splitstrengthvalue[1] + "'>" + splitstrengthvalue[1] + "</option>")
                        $("#selectsolidcontainer").html("<option value'" + splitstrengthvalue[3] + "'>" + splitstrengthvalue[3] + "</option>")
                        $("#selectnonreagentcontainer").html("<option value'" + splitstrengthvalue[6] + "'>" + splitstrengthvalue[6] + "</option>")

                        // $("#solidpieces").val(splitstrengthvalue[5])

                        if(splitstrengthvalue[0].includes("/")){
                            $("#checkcombinedstrength").prop('checked', true)
                        }
                        if($("#checkcombinedstrength").is(":checked")){
                            let genericnamesplit = genericname.split("/")
                            let combinedarray = genericnamesplit
                            console.log(splitstrengthvalue)
                            let itemstrengthsplit = splitstrengthvalue[0].split("/")
                            let combinedstrength = itemstrengthsplit
                            let i =0
                            // let solidinputweights = ``
                            // let liquidinputweights = ``
                            // let gasinputweights = ``
                            // let serviceinputweights = ``
                            // let iteminputweights = ``
                            // let reagentinputweights = ``
                            let nonreagentinputweights = ``
                            // let gasreagentinputweights = ``
                            combinedarray.forEach(val => {
                                i++
                                // solidinputweights += `<input class="combinedweighttext" type="text" id="solid_weight_` + i + `" name="solid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i] + `">` 
                                // liquidinputweights += `<input type="text" id="liquid_weight_` + i + `" name="liquid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasinputweights += `<input type="text" id="gas_weight_` + i + `" name="gas_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // serviceinputweights += `<input type="text" id="service_weight_` + i + `" name="service_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // iteminputweights += `<input class="combineditemtext" type="text" id="item_weight_` + i + `" name="item_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // reagentinputweights += `<input type="text" id="reagent_weight_` + i + `" name="reagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                nonreagentinputweights += `<input class="combinedweighttext" type="text" id="nonreagent_weight_` + i + `" name="nonreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // gasreagentinputweights += `<input type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                console.log(val, i)
                                // let button = "#solid_weight_" + i
                                

                            
                            });
                            $("#nonreagentvalue").html(nonreagentinputweights)
                        } else {
                            $("#nonreagentvalue").html(`<input type="text" id="nonreagent_weight_0" name="nonreagent_weight_0" style="width:40px" placeholder="` + genericname + ` value" title="` + genericname + `" value="` + splitstrengthvalue[0] + `">`)
                        }
                       


                    } else if(selectedstate.toUpperCase()=="GAS-LIQUID SOLUTION"){
                        $("#servicestrength").hide()
                        $("#gasstrength").hide()
                        $("#liquidstrength").hide()
                        $("#solidstrength").hide()
                        $("#reagentstrength").hide()
                        $("#nonreagentstrength").hide()
                        $("#gasreagentstrength").show()
                        $("#item_strength").hide()
                        $("#capitalitem_strength").hide()

                        let splitstrengthvalue = strengthvalue.split(" ")
                        console.log(splitstrengthvalue)
                        let splitweight = splitstrengthvalue[4].split("/")
                        $("#gassolutionvalue").val(splitstrengthvalue[3])
                        // $("#liquidsolutionvalue").val(splitstrengthvalue[3])
                        $("#gassolutioncontainervalue").val(splitweight[1])
                        
                        $("#selectgassolutionvolume").html("<option value'" + splitweight[0] + "'>" + splitweight[0] + "</option>")
                        $("#selectgassolutioncontainervolume").html("<option value'" + splitstrengthvalue[5] + "'>" + splitstrengthvalue[5] + "</option>")
                        $("#selectreagentvolume").html("<option value'" + splitstrengthvalue[1] + "'>" + splitstrengthvalue[1] + "</option>")
                        $("#selectsolidcontainer").html("<option value'" + splitstrengthvalue[3] + "'>" + splitstrengthvalue[3] + "</option>")
                        $("#selectreagentcontainer").html("<option value'" + splitstrengthvalue[6] + "'>" + splitstrengthvalue[6] + "</option>")

                        // $("#solidpieces").val(splitstrengthvalue[5])
                        if(splitstrengthvalue[0].includes("/")){
                            $("#checkcombinedstrength").prop('checked', true)
                        }
                        if($("#checkcombinedstrength").is(":checked")){
                            let genericnamesplit = genericname.split("/")
                            let combinedarray = genericnamesplit
                            let itemstrengthsplit = splitstrengthvalue[0].split("/")
                            let combinedstrength = itemstrengthsplit
                            let i =0
                            // let solidinputweights = ``
                            // let liquidinputweights = ``
                            // let gasinputweights = ``
                            // let serviceinputweights = ``
                            // let iteminputweights = ``
                            let reagentinputweights = ``
                            // let nonreagentinputweights = ``
                            // let gasreagentinputweights = ``
                            combinedarray.forEach(val => {
                                i++
                                // solidinputweights += `<input class="combinedweighttext" type="text" id="solid_weight_` + i + `" name="solid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i] + `">` 
                                // liquidinputweights += `<input type="text" id="liquid_weight_` + i + `" name="liquid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasinputweights += `<input type="text" id="gas_weight_` + i + `" name="gas_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // serviceinputweights += `<input type="text" id="service_weight_` + i + `" name="service_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // iteminputweights += `<input class="combineditemtext" type="text" id="item_weight_` + i + `" name="item_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                reagentinputweights += `<input type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `" value="` + combinedstrength[i-1] + `">` 
                                // nonreagentinputweights += `<input class="combinedweighttext" type="text" id="nonreagent_weight_` + i + `" name="nonreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                // gasreagentinputweights += `<input type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                                console.log(val, i)
                                // let button = "#solid_weight_" + i
                                

                            
                            });
                            $("#gasreagentvalue").html(reagentinputweights)
                        } else {
                            $("#gasreagentvalue").html(`<input type="text" id="gasreagent_weight_0" name="gasreagent_weight_0" style="width:40px" placeholder="` + genericname + ` value" title="` + genericname + `" value="` + splitstrengthvalue[0] + `">`)
                        }
                       
                    }
                    
                }

                $("#selectitemunit").on("change", function(evt){
                    evt.preventDefault()
                    let lengthunit =  $("#selectitemunit").val()
                    if(lengthunit.includes("length")){
                        $("#actuallength").val($("#actualpieces").val())
                        $("#actualpieces").val("1")
                    }
                    lengthunit = lengthunit.toUpperCase()
                    if(lengthunit=="L"||lengthunit.includes("ML")||lengthunit.includes("DR")||lengthunit=="CL"||lengthunit=="MCL"){
                        $("#actualvolume").val($("#actualpieces").val())
                        $("#actualpieces").val("1")
                    }
                    if(lengthunit=="KG"||lengthunit=="G"||lengthunit.includes("MG")||lengthunit=="CG"||lengthunit=="MCG"){
                        $("#actualweight").val($("#actualpieces").val())
                        $("#actualpieces").val("1")
                    }
                    if(lengthunit=="IU"){
                        $("#actualinternationalunit").val($("#actualpieces").val())
                        $("#actualpieces").val("1")
                    }
                })

                $("#capitalselectitemunit").on("change", function(evt){
                    evt.preventDefault()
                    let lengthunit =  $("#selectitemunit").val()
                    if(lengthunit.includes("length")){
                        $("#actuallength").val($("#capitalitem_weight_0").val())
                        $("#actualpieces").val("1")
                    }
                })
                
                function getStrengthValues(){
                    if($("#checkcombinedstrength").is(":checked")){
                        $("#combineditemstrengthform").show()
                        let genericname = $("#selectgenericname").val()
                        genericname = genericname.replaceAll("/",".")
                        let genericnamesplit = genericname.split(".")
                        let combinedarray = genericnamesplit
                        let i =0
                        let solidinputweights = ``
                        let liquidinputweights = ``
                        let gasinputweights = ``
                        let serviceinputweights = ``
                        let iteminputweights = ``
                        let capitaliteminputweights = ``
                        let reagentinputweights = ``
                        let nonreagentinputweights = ``
                        let gasreagentinputweights = ``
                        combinedarray.forEach(val => {
                            i++
                            solidinputweights += `<input class="combinedweighttext" type="text" id="solid_weight_` + i + `" name="solid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                            liquidinputweights += `<input type="text" id="liquid_weight_` + i + `" name="liquid_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                            gasinputweights += `<input class="combinedweighttext" type="text" id="gas_weight_` + i + `" name="gas_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                            serviceinputweights += `<input class="combinedservicetext" type="text" id="service_weight_` + i + `" name="service_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                            iteminputweights += `<input class="combineditemtext" type="text" id="item_weight_` + i + `" name="item_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                            capitaliteminputweights += `<input class="combineditemtext" type="text" id="capitalitem_weight_` + i + `" name="capitalitem_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                            reagentinputweights += `<input class="combinedreagenttext" type="text" id="reagent_weight_` + i + `" name="reagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                            nonreagentinputweights += `<input class="combinedweighttext" type="text" id="nonreagent_weight_` + i + `" name="nonreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                            gasreagentinputweights += `<input class="combinedweighttext" type="text" id="gasreagent_weight_` + i + `" name="gasreagent_weight_` + i + `" style="width:40px" placeholder="` + val + ` value" title="` + val + `">` 
                            console.log(val)
                            // let button = "#solid_weight_" + i
                            

                           
                        });
                        $("#solidstrengthvalue").html(solidinputweights)
                        $("#liquidstrengthvalue").html(liquidinputweights)
                        $("#gasstrengthvalue").html(gasinputweights)
                        $("#servicevalue").html(serviceinputweights)
                        $("#itemvalue").html(iteminputweights)
                        $("#capitalitemvalue").html(capitaliteminputweights)
                        $("#reagentvalue").html(reagentinputweights)
                        $("#nonreagentvalue").html(nonreagentinputweights)
                        $("#gasreagentvalue").html(gasreagentinputweights)
                        //console.log($("#combinedgenericname").val())

                        

                        $(".combinedweighttext").on('change keyup paste', function () {
                            let value = 0
                            let sumvalues = 0
                            let genericnamecb = $("#selectgenericname").val()
                            console.log(genericnamecb)
                            
                            let inputvals = $(".combinedweighttext")
                            console.log(inputvals)
                            var inputs = genericnamecb.split("/")
                            
                            for(var i = 0; i < inputvals.length; i++){
                                console.log($(inputvals[i]).val())
                                let inputvalue = zeroifnull($(inputvals[i]).val())
                                if(parseFloat(inputvalue)>parseFloat(value)){
                                    value = inputvalue
                                }
                                //sum values
                                sumvalues = sumvalues + parseFloat(inputvalue)
                                console.log(inputvalue,sumvalues)
                            }

                            if($("#selectstate").val().includes("Solid")){
                                $("#actualweight").val(sumvalues)
                            }
                            
                            // if($("#selectsolidweightunit").val()=="ug"){
                            //     $("#actualmicrogram").val(value)
                            // } else if($("#selectsolidweightunit").val()=="IU"){
                            //     $("#actualinternationalunit").val(value)
                            // } else {
                            //     $("#actualweight").val(value)
                            // }

                            if($("#selectgasvolumeunit").val()=="IU"){
                                // $("#actualinternationalunit").val(value)
                                $("#actualinternationalunit").val(value)
                                $("#actualmicrogram").val("0")
                            }
                            if($("#selectnonreagentweight").val()=="IU"){
                                // $("#actualinternationalunit").val(value)
                                $("#actualinternationalunit").val(value)
                                $("#actualmicrogram").val("0")
                            }

                            if($("#selectgasreagentvolume").val()=="IU"){
                                // $("#actualinternationalunit").val(value)
                                $("#actualinternationalunit").val(value)
                                $("#actualmicrogram").val("0")
                            }

                           if($("#selectreagentvolume").val()=="IU"){
                                // $("#actualinternationalunit").val(value)
                                $("#actualinternationalunit").val(value)
                                $("#actualmicrogram").val("0")
                            }

                        })

                        $(".combinedreagenttext").on('change keyup paste', function () {
                            let value = 0
                            var inputs = $(".combinedreagenttext");
                            for(var i = 0; i < inputs.length; i++){
                                // console.log($(inputs[i]).val())
                                let inputvalue = zeroifnull($(inputs[i]).val())
                                if(parseFloat(inputvalue)>parseFloat(value)){
                                    value = inputvalue
                                }
                               
                            }
                            
                           if($("#selectreagentvolume").val()=="IU"){
                                $("#actualinternationalunit").val(value)
                                $("#actualmicrogram").val("0")
                            } 
                            
                            
                        })

                        

                        $(".combineditemtext").on('change keyup paste', function () {
                            let value = 0
                            var inputs = $(".combineditemtext");
                            for(var i = 0; i < inputs.length; i++){
                                console.log($(inputs[i]).val())
                                if($(inputs[i]).val()!=""||$(inputs[i]).val()!=null){
                                    value += parseFloat(zeroifnull($(inputs[i]).val()))
                                }
                            }
                            $("#actualpieces").val(value)
                        })

                        $(".combinedservicetext").on('change keyup paste', function () {
                            let value = 0
                            var inputs = $(".combinedservicetext");
                            for(var i = 0; i < inputs.length; i++){
                                console.log($(inputs[i]).val())
                                if($(inputs[i]).val()!=""||$(inputs[i]).val()!=null){
                                    value += parseFloat(zeroifnull($(inputs[i]).val()))
                                }
                            }
                            $("#actualservice").val(value)
                        })
                    } else {
                        let value=$("#selectgenericname").val()
                        $("#solidstrengthvalue").html(`<input type="text" id="solid_weight_0" name="solid_weight_0" style="width:40px" placeholder="` + value + ` value" title="` + value + `">`)
                        $("#liquidstrengthvalue").html(`<input type="text" id="liquid_weight_0" name="liquid_weight_0" style="width:40px" placeholder="` + value + ` value" title="` + value + `">`)
                        $("#gasstrengthvalue").html(`<input type="text" id="gas_weight_0" name="gas_weight_0" style="width:40px" placeholder="` + value + ` value" title="` + value + `">`)
                        $("#servicevalue").html(`<input type="text" id="service_weight_0" name="service_weight_0" style="width:40px" placeholder="` + value + ` value" title="` + value + `">`)
                        $("#itemvalue").html(`<input type="text" id="item_weight_0" name="item_weight_0" style="width:40px" placeholder="` + value + ` value" title="` + value + `">`)
                        $("#capitalitemvalue").html(`<input type="text" id="capitalitem_weight_0" name="capitalitem_weight_0" style="width:40px" placeholder="` + value + ` value" title="` + value + `">`)
                        $("#reagentvalue").html(`<input type="text" id="reagent_weight_0` + `" name="reagent_weight_0` + `" style="width:40px" placeholder="` + value + ` value" title="` + value + `">`)
                        $("#nonreagentvalue").html(`<input type="text" id="nonreagent_weight_0` + `" name="nonreagent_weight_0` + `" style="width:40px" placeholder="` + value + ` value" title="` + value + `">`)
                        $("#gasreagentvalue").html(`<input type="text" id="gasreagent_weight_0` + `" name="gasreagent_weight_0` + `" style="width:40px" placeholder="` + value + ` value" title="` + value + `">`)

                       
                        $("#service_weight_0").on('change keyup paste', function () {
                            $("#actualservice").val( $("#service_weight_0").val())
                        })
                       
                        $("#solid_weight_0").on('change keyup paste', function () {
                            if($("#selectsolidweightunit").val()=="IU"){
                                // $("#actualinternationalunit").val(value)
                                $("#actualinternationalunit").val( $("#solid_weight_0").val())
                                $("#actualmicrogram").val("0")
                            } else {
                                $("#actualweight").val( $("#solid_weight_0").val())
                            }
                            
                        })

                        $("#gas_weight_0").on('change keyup paste', function () {
                            if($("#selectgasvolumeunit").val()=="IU"){
                                // $("#actualinternationalunit").val(value)
                                $("#actualinternationalunit").val( $("#gas_weight_0").val())
                                $("#actualmicrogram").val("0")
                            } else {
                                $("#actualweight").val( $("#gas_weight_0").val())
                            }
                            // $("#actualweight").val( $("#gas_weight_0").val())
                        })

                        $("#nonreagent_weight_0").on('change keyup paste', function () {
                            if($("#selectnonreagentweight").val()=="IU"){
                                // $("#actualinternationalunit").val(value)
                                $("#actualinternationalunit").val( $("#nonreagent_weight_0").val())
                                $("#actualmicrogram").val("0")
                            } else {
                                $("#actualweight").val( $("#nonreagent_weight_0").val())
                            }
                            // $("#actualweight").val( $("#nonreagent_weight_0").val())
                        })

                        $("#gasreagent_weight_0").on('change keyup paste', function () {
                            if($("#selectgasreagentvolume").val()=="IU"){
                                // $("#actualinternationalunit").val(value)
                                $("#actualinternationalunit").val( $("#gasreagent_weight_0").val())
                                $("#actualmicrogram").val("0")
                            } else {
                                $("#actualweight").val( $("#gasreagent_weight_0").val())
                                
                            }
                            // $("#actualweight").val( $("#gasreagent_weight_0").val())
                        })

                        $("#reagent_weight_0").on('change keyup paste', function () {
                            if($("#selectreagentvolume").val()=="IU"){
                                // $("#actualinternationalunit").val(value)
                                $("#actualinternationalunit").val( $("#reagent_weight_0").val())
                                $("#actualmicrogram").val("0")
                            } 
                            // $("#actualweight").val( $("#gasreagent_weight_0").val())
                        })

                        $("#item_weight_0").on('change keyup paste', function () {
                            $("#actualpieces").val( $("#item_weight_0").val())

                            let itemunit = $("#selectitemunit").val()
                            console.log(itemunit)
                            if(itemunit.toUpperCase()=="ML"||itemunit.toUpperCase()=="L"||itemunit.toUpperCase()=="CL"||itemunit.toUpperCase()=="MCL"){
                                $("#actualvolume").val( $("#item_weight_0").val())
                                $("#actualpieces").val("1")
                            }
                            if(itemunit.toUpperCase()=="MG"||itemunit.toUpperCase()=="G"||itemunit.toUpperCase()=="CG"||itemunit.toUpperCase()=="MCG"||itemunit.toUpperCase()=="KG"){
                                $("#actualweight").val( $("#item_weight_0").val())
                                $("#actualpieces").val("1")
                            }
                        })

                        $("#capitalitem_weight_0").on('change keyup paste', function () {
                            $("#actualpieces").val( $("#capitalitem_weight_0").val())


                        })
                       
                        //$("#combineditemstrengthform").hide()
                    }
                }

                $("#checkcombinedstrength").change(function(){
                    getStrengthValues()
                })

                $("#solidpieces").on('change keyup paste', function () {
                    $("#actualpieces").val( $("#solidpieces").val())
                })

                $("#selectitemquantity").on('change keyup paste', function () {
                    $("#actualpieces").val( $("#selectitemquantity").val())
                })

                $("#selectitemduration").on('change keyup paste', function () {
                    $("#actualservice").val( $("#selectitemduration").val())
                })


                $("#liquidcontainervolumevalue").on('change keyup paste', function () {
                    $("#actualvolume").val( $("#liquidcontainervolumevalue").val())
                })
                $("#gascontainervolume").on('change keyup paste', function () {
                    let checkvolumeunit = $("#selectgascontainervolumeunit").val().toUpperCase()
                    if(checkvolumeunit!="KG"){
                        $("#actualvolume").val( $("#gascontainervolume").val())
                    }
                    
                })
                $("#liquidsolutioncontainervalue").on('change keyup paste', function () {
                    $("#actualvolume").val( $("#liquidsolutioncontainervalue").val())
                })
                $("#solidsolutioncontainervalue").on('change keyup paste', function () {
                    $("#actualvolume").val( $("#solidsolutioncontainervalue").val())
                })
                $("#gassolutioncontainervalue").on('change keyup paste', function () {
                    $("#actualvolume").val( $("#gassolutioncontainervalue").val())
                })
                

                $("#searchgenericname").on('change keyup paste', function () {
                    ApplyFilterGenericName();
                });

                function ApplyFilterGenericName() {
                    var searchString = $("#searchgenericname").val();
                    console.log("GetSubDepartmentsFunction")
                    GetGenericNameFunction()
                }
                let genericnamelist = ``
                let departmentitemgrouplist = ``
                let itemgroup = ""
                let itemclass = ""
                let itemsubclass = ""
                function GetGenericNameFunction(){
                    
                    //get list of groups
                    $("#actualweight").val("0")
                    $("#actualvolume").val("0")
                    $("#actualpieces").val("1")
                    $("#actuallength").val("0")
                    $("#actualservice").val("0")
                    $("#actualmicrogram").val("0")
                    $("#actualinternationalunit").val("0")
                    $("#specialinstruction").val("")
                    let getGenericName = "getGenericName"
                    let searchItem = $("#searchgenericname").val()
                    $.post("controllers/combo-setup.php",{searchItem:searchItem,getGenericName: getGenericName},function(formdata){
                        //console.log("itemGroup: ",data)
                        if(formdata!="No Record Found"){
                            console.log(formdata)
                            let data=JSON.parse(formdata)
                            let genericnameoptions = ``
                            let genericnamecb = ""
                            $.each(data.records, function(key, val) {
                            
                                if(val.combined=="True"){
                                    genericnamecb = val.genericnamecb
                                } else {
                                    genericnamecb = val.genericname
                                }
                                    genericnameoptions += `
                                    <option value="` + genericnamecb + `">` + val.genericname + `</option>
                                `
                            })
                            genericnamelist = genericnameoptions
                            $("#selectgenericname").html(genericnameoptions)
                            $("#combinedgenericname").html(genericnameoptions)
                            
                            let getGenericName = "getGenericName"
                            let searchItem = $("#selectgenericname").val()
                            // let itemgenericname = $("#selectgenericname").val()
                            if(searchItem.includes("/")){
                                $("#combined").val("True")
                            } else {
                                $("#combined").val("")
                            }
                            $("#genericnamecb").val($("#selectgenericname").val())
                       

                            $.post("controllers/combo-setup.php",{searchItem:searchItem,getGenericName: getGenericName},function(formdata){
                                //console.log("itemGroup: ",data)
                                if(formdata!="No Record Found"){
                                    console.log(formdata)
                                    let data=JSON.parse(formdata)
                                    let selectdepartmentoptions = ``
                                    let selectsubdepartmentoptions = ``
                                    let selectdepartmentitemgroupoptions = ``
                                    $.each(data.records, function(key, val) {
                                    
                                        selectdepartmentoptions += `
                                        <option value="` + val.department + `">` + val.department + `</option>
                                    `

                                    $("#departmentcode").val(val.departmentcode)
                                    $("#subdepartmentcode").val(val.subdepartmentcode)
                                    itemgroup = val.itemgroup
                                     itemclass = val.itemclass
                                     itemsubclass = val.itemsubclass
                                    console.log(itemgroup,itemclass,itemsubclass)

                                    selectsubdepartmentoptions += `
                                        <option value="` + val.subdepartment + `">` + val.subdepartment + `</option>
                                    `
                                    selectdepartmentitemgroupoptions += `
                                        <option value="` + val.departmentitemgroup + `">` + val.departmentitemgroup + `</option>
                                    `
                                    
                                    })
                                    departmentitemgrouplist = selectdepartmentitemgroupoptions
                                    genericnamelist = genericnameoptions
                                    $("#selectdepartment").html(selectdepartmentoptions)
                                    $("#selectsubdepartment").html(selectsubdepartmentoptions)
                                    $("#selectdepartmentitemgroup").html(selectdepartmentitemgroupoptions)


                                    
                                    let searchdepartmentitemgroup = $("#selectdepartmentitemgroup").val()
                                    let getDepartmentItemGroupDetails = "getDepartmentItemGroupDetails"
                                    $.post("controllers/combo-setup.php", {searchItem:searchdepartmentitemgroup, getDepartmentItemGroupDetails:getDepartmentItemGroupDetails}, function(data){
                                        console.log(data)
                                        data = JSON.parse(data)
                                        $.each(data.records, function(key, val) {
                                            let itemgrouptype = val.itemgrouptype
                                            let formulation = val.formulation
                                           
                                            let usageroutetype = val.usageroutetype
                                            let usageroute = val.usageroute
                                            let container = val.container
                                            let itemweight = val.itemweight
                                            let itemvolume = val.itemvolume
                                            let itemextraunit = val.itemextraunit

                                            console.log(itemgroup,itemclass,itemsubclass)
                                            //selectform
                                            let getItemFormByDepartmentItem = "getItemFormByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getItemFormByDepartmentItem:getItemFormByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.itemcode + `,` + val.itemform + `">` + val.itemform + `</option>
                                                `
                                                })
                                                itemformlist = itemformulationoptions
                                                console.log(itemformlist)
                                                $("#selectform").html(itemformulationoptions)
                                                selectform = $("#selectform").val()
                                                let splitselectform = selectform.split(",")
                                                let itemcode = splitselectform[1]
                                                //let selecteddepartment = $("#selectdepartment").val()
                                                let getItemFormByName = "getItemFormByName"
                                                $.post("controllers/combo-setup.php",{selectform:itemcode, getItemFormByName:getItemFormByName},function(formdata){
                                                    console.log(formdata)
                                                    
                                                        let data=JSON.parse(formdata)
                                                    
                                                        //subdepartmentlist = subdepartmentoptions
                                                        $("#selectformcode").html(data.itemcode)
                                                        $("#selectformabbr").html(data.abbreviation)
                                                        $("#selectsolidform").html(`<option value="` + data.abbreviation + `">` + data.abbreviation + `</option>`)
                                                        $("#selectserviceroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                        $("#selectliquidform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                        $("#selectnonreagentform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                        $("#selectreagentform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                        $("#selectitemroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                        $("#capitalselectitemroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)

                                                })
                                                
                                            })

                                            //selectspecimen
                                            let getSpecimenByDepartmentItem = "getSpecimenByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getSpecimenByDepartmentItem:getSpecimenByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.specimen + `">` + val.specimen + `</option>
                                                `
                                                })
                                                $("#specimen").html(itemformulationoptions)
                                                
                                                
                                            })
                                            

                                            //selectsample
                                            let getSampleByDepartmentItem = "getSampleByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getSampleByDepartmentItem:getSampleByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.sample + `">` + val.sample + `</option>
                                                `
                                                })
                                                $("#sample").html(itemformulationoptions)
                                                
                                                
                                            })
                                            
                                            //selectweight
                                            //Solid
                                            let getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            let state = "Solid"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Liquid
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Solid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectnonreagentweight").html(itemformulationoptions)
                                                
                                                
                                            })
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                               // $("#selectliquidweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Gas
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Gas"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Service

                                            //Other Units

                                            //selectvolume
                                            //Liquid
                                            let getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Liquid"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectliquidvolumeunit").html(itemformulationoptions)
                                                $("#selectliquidcontainervolumeunit").html(itemformulationoptions)
                                                
                                            })

                                            //Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectliquidvolumeunit").html(itemformulationoptions)
                                                // $("#selectliquidcontainervolumeunit").html(itemformulationoptions)
                                                
                                            })
                                            //Gas
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Gas"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasvolumeunit").html(itemformulationoptions)
                                                $("#selectgascontainervolumeunit").html(itemformulationoptions)
                                                
                                            })

                                            //Liquid-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Liquid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                console.log(formdata)
                                                let data = JSON.parse(formdata)

                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectreagentvolume").html(itemformulationoptions)
                                                $("#selectliquidsolutionvolume").html(itemformulationoptions)
                                                $("#selectliquidsolutioncontainervolume").html(itemformulationoptions)
                                                
                                            })

                                            //Solid-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Solid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidsolutionvolume").html(itemformulationoptions)
                                                $("#selectsolidsolutioncontainervolume").html(itemformulationoptions)
                                                
                                            })

                                            //Gas-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Gas-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasreagentvolume").html(itemformulationoptions)
                                                $("#selectgassolutionvolume").html(itemformulationoptions)
                                                $("#selectgassolutioncontainervolume").html(itemformulationoptions)
                                            })

                                            // Sundry Items
                                            getExtraUnitByDepartmentItemGroup = "getExtraUnitByDepartmentItemGroup"
                                            state = "Sundry Items"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getExtraUnitByDepartmentItemGroup:getExtraUnitByDepartmentItemGroup},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectitemunit").html(itemformulationoptions)

                                                // Get Length
                                                getLengthByDepartmentItemGroup = "getLengthByDepartmentItemGroup"
                                                state = "Sundry Items"
                                                $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getLengthByDepartmentItemGroup:getLengthByDepartmentItemGroup},function(formdata){
                                                    let data = JSON.parse(formdata)
                                                    
                                                    $.each(data.records, function(key, val) {
                                        
                                                        itemformulationoptions += `
                                                        <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                    `
                                                    })
                                                    // $("#selectitemunit").html(itemformulationoptions)

                                                    // Get Length
                                                    
                                                    // $("#capitalselectitemunit").html(itemformulationoptions)
                                                     // Get Volume
                                                     getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                                    state = "Sundry Items"
                                                    $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                        let data = JSON.parse(formdata)
                                                        console.log(data)
                                                        $.each(data.records, function(key, val) {
                                            
                                                            itemformulationoptions += `
                                                            <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                        `
                                                        })
                                                        // $("#selectitemunit").html(itemformulationoptions)

                                                        // Get Length
                                                        
                                                        // $("#capitalselectitemunit").html(itemformulationoptions)
                                                         // Get Weight
                                                         getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                                        state = "Sundry Items"
                                                        $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                            let data = JSON.parse(formdata)
                                                            
                                                            $.each(data.records, function(key, val) {
                                                
                                                                itemformulationoptions += `
                                                                <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                            `
                                                            })
                                                            $("#selectitemunit").html(itemformulationoptions)

                                                            // Get Length
                                                            
                                                            // $("#capitalselectitemunit").html(itemformulationoptions)
                                                            
                                                        })
                                                    })
                                                })
                                                // $("#capitalselectitemunit").html(itemformulationoptions)
                                                
                                            })

                                           


                                            //Capital Items
                                            getExtraUnitByDepartmentItemGroup = "getExtraUnitByDepartmentItemGroup"
                                            state = "Capital Items"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getExtraUnitByDepartmentItemGroup:getExtraUnitByDepartmentItemGroup},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectitemunit").html(itemformulationoptions)
                                                $("#capitalselectitemunit").html(itemformulationoptions)
                                                // Get Length
                                                getLengthByDepartmentItemGroup = "getLengthByDepartmentItemGroup"
                                                state = "Sundry Items"
                                                $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getLengthByDepartmentItemGroup:getLengthByDepartmentItemGroup},function(formdata){
                                                    let data = JSON.parse(formdata)
                                                    
                                                    $.each(data.records, function(key, val) {
                                        
                                                        itemformulationoptions += `
                                                        <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                    `
                                                    })
                                                    $("#capitalselectitemunit").html(itemformulationoptions)

                                                    // Get Length
                                                    
                                                    // $("#capitalselectitemunit").html(itemformulationoptions)
                                                    
                                                })
                                            })


                                        //selectserviceunit
                                        //service
                                        let getItemServiceByDepartmentItemGrouping = "getItemServiceByDepartmentItemGrouping"
                                            state = "Service"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemServiceByDepartmentItemGrouping:getItemServiceByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.unit + `">` + val.unit + `</option>
                                                `
                                                })
                                                $("#selectserviceunit").html(itemformulationoptions)
                                                
                                            })

                                            //container
                                            let getItemContainerByDepartmentItemGrouping = "getItemContainerByDepartmentItemGrouping"
                                        
                                            $.post("controllers/combo-setup.php",{searchContainer:searchdepartmentitemgroup, getItemContainerByDepartmentItemGrouping:getItemContainerByDepartmentItemGrouping},function(formdata){
                                                // console.log(formdata)
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidcontainer").html(itemformulationoptions)
                                                $("#selectliquidcontainer").html(itemformulationoptions)
                                                $("#selectgascontainer").html(itemformulationoptions)
                                                $("#selectreagentcontainer").html(itemformulationoptions)
                                                $("#selectnonreagentcontainer").html(itemformulationoptions)
                                                $("#selectgasreagentcontainer").html(itemformulationoptions)
                                            })
                                            
                                    
                                            //usageroutetype
                                            let getDeptItemGrpRoute = "getDeptItemGrpRoute"
                                        
                                            $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpRoute:getDeptItemGrpRoute},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.usageroutetype + `">` + val.usageroutetype + `</option>
                                                `
                                                })
                                                $("#selectusageroutetype").html(itemformulationoptions)
                                                let searchusageroutetype = $("#selectusageroutetype").val()
                                                let getUsageRouteByType = "getUsageRouteByType"
                                                
                                                //let getGasUsageRoute = "getGasUsageRoute"
                                                // $.post("controllers/combo-setup.php",{selectusageroutetype:searchusageroutetype, getUsageRouteByType: getUsageRouteByType},function(formdata){

                                                // if(formdata!="No Record Found"){
                                                //     console.log(formdata)
                                                //     let data=JSON.parse(formdata)
                                                //     let gasrouteoptions = ``
                                                //     $.each(data.records, function(key, val) {
                                                    
                                                //         gasrouteoptions += `
                                                //         <option value="` + val.usageroute + `">` + val.usageroute + `</option>
                                                //     `
                                                //     })
                                                //     // gasroutelist = gasrouteoptions
                                                //     $("#selectgasroute").html(gasrouteoptions)
                                                //     $("#selectserviceroute").html(gasrouteoptions)
                                                //     $("#selectusageroute").html(gasrouteoptions)
                                                // }
                                                // })
                                                //usageroutetype
                                            let getDeptItemGrpRoute = "getDeptItemGrpRoute"
                                        
                                            //let getGasUsageRoute = "getGasUsageRoute"
                                            $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpRoute: getDeptItemGrpRoute},function(formdata){

                                            if(formdata!="No Record Found"){
                                                console.log(formdata)
                                                let data=JSON.parse(formdata)
                                                let gasrouteoptions = ``
                                                $.each(data.records, function(key, val) {
                                                
                                                    gasrouteoptions += `
                                                    <option value="` + val.usageroute + `">` + val.usageroute + `</option>
                                                `
                                                })
                                                usageroutelist = gasrouteoptions
                                                $("#selectgasroute").html(gasrouteoptions)
                                            
                                                $("#selectusageroute").html(gasrouteoptions)
                                            }
                                            })
        
            
                                                    
                                            })

                                            //usage group
                                            let getDeptItemGrpUsageGroup = "getDeptItemGrpUsageGroup"
                                        
                                            $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpUsageGroup:getDeptItemGrpUsageGroup},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.itemgroup + `">` + val.itemgroup + `</option>
                                                `
                                                })
                                                $("#selectusagegroup").html(`<option value="` + itemgroup + `">` + itemgroup + `</option>` + itemformulationoptions)
                                                let searchusagegroup = $("#selectusagegroup").val()
                                                let getItemClassByItemGroup = "getItemClassByItemGroup"
                                                
                                                //let getGasUsageRoute = "getGasUsageRoute"
                                                $.post("controllers/combo-setup.php",{searchItem:searchusagegroup, getItemClassByItemGroup: getItemClassByItemGroup},function(formdata){

                                                if(formdata!="No Record Found"){
                                                    console.log(formdata)
                                                    let data=JSON.parse(formdata)
                                                    let gasrouteoptions = ``
                                                    $.each(data.records, function(key, val) {
                                                    
                                                        gasrouteoptions += `
                                                        <option value="` + val.itemclass + `">` + val.itemclass + `</option>
                                                    `
                                                    })
                                                    // gasroutelist = gasrouteoptions
                                                    $("#selectusageclass").html(`<option value="` + itemclass + `">` + itemclass + `</option>` + gasrouteoptions)
                                                    let searchusageclass = $("#selectusageclass").val()
                                                    let getItemSubClassByClass = "getItemSubClassByClass"
                                                    
                                                    //let getGasUsageRoute = "getGasUsageRoute"
                                                    $.post("controllers/combo-setup.php",{selectsubclassclass:searchusageclass, getItemSubClassByClass: getItemSubClassByClass},function(formdata){

                                                    if(formdata!="No Record Found"){
                                                        console.log(formdata)
                                                        let data=JSON.parse(formdata)
                                                        let gasrouteoptions = ``
                                                        $.each(data.records, function(key, val) {
                                                        
                                                            gasrouteoptions += `
                                                            <option value="` + val.itemsubclass + `">` + val.itemsubclass + `</option>
                                                        `
                                                        })
                                                        gasroutelist = gasrouteoptions
                                                        $("#selectusagesubclass").html(`<option value="` + itemsubclass + `">` + itemsubclass + `</option>` + gasrouteoptions)

                                                        console.log(itemclass, itemgroup, itemsubclass)
                                                        
                                                    }
                                                    })
                                                }
                                                })
            
                                                    
                                            })
        
                                        })
                                    })
                                }

                            
                            })


                        }
                    })
                }
                let subdepartmentlist = ``
                $("#selectdepartment").on("change", function(evt){
                evt.preventDefault()
                let selecteddepartment = $("#selectdepartment").val()
                let getSubDepartmentByDepartment = "getSubDepartmentByDepartment"
                $.post("controllers/combo-setup.php",{searchItem:selecteddepartment, getSubDepartmentByDepartment:getSubDepartmentByDepartment},function(formdata){
                    console.log(formdata)
                        let data=JSON.parse(formdata)
                        console.log(formdata)
                        let selectsubdepartmentoptions = ``
                        $.each(data.records, function(key, val) {
                           
                            selectsubdepartmentoptions += `
                            <option value="` + val.subdepartment + `">` + val.subdepartment + `</option>
                          `
                          //console.log(val.subdepartment)
                        })
                        subdepartmentlist = selectsubdepartmentoptions
                        $("#selectsubdepartment").html(selectsubdepartmentoptions)
                        let subdepartment = data.records[0].subdepartment
                        //if(subdepartment != "No Sub Department"){
                            let getDepartmentItemGroupBySubDepartment = "getDepartmentItemGroupBySubDepartment"
                            $.post("controllers/combo-setup.php",{department:selecteddepartment,subdepartment:subdepartment, getDepartmentItemGroupBySubDepartment:getDepartmentItemGroupBySubDepartment},function(formdata){
                                console.log(formdata)
                                    let data=JSON.parse(formdata)
                                    //console.log(formdata)
                                    let selectdepartmentitemoptions = ``
                                    $.each(data.records, function(key, val) {
                                    
                                        selectdepartmentitemoptions += `
                                        <option value="` + val.departmentitemgroup + `">` + val.departmentitemgroup + `</option>
                                    `
                                    //console.log(val.subdepartment)
                                    })
                                    subdepartmentlist = selectdepartmentitemoptions
                                    $("#selectdepartmentitemgroup").html(selectdepartmentitemoptions)
                                    let selectdepartmentitemgroup = data.records[0].departmentitemgroup
                                    //let selecteddepartment = $("#selectdepartment").val()
                                    let getItemFormByDepartmentItem = "getItemFormByDepartmentItem"
                                    $.post("controllers/combo-setup.php",{departmentitemgroup:selectdepartmentitemgroup, getItemFormByDepartmentItem:getItemFormByDepartmentItem},function(formdata){
                                        console.log(formdata)
                                        if(formdata!="No Record Found"){
                                            let data=JSON.parse(formdata)
                                            //console.log(formdata)
                                            let selectdepartmentitemoptions = ``
                                            $.each(data.records, function(key, val) {
                                            
                                                selectdepartmentitemoptions += `
                                                <option value="` + val.itemcode + `,` + val.itemform + `">` + val.itemform + `</option>
                                            `
                                            //console.log(val.subdepartment)
                                            })
                                            //subdepartmentlist = subdepartmentoptions
                                            itemformlist = selectdepartmentitemoptions
                                            console.log(itemformlist)
                                            $("#selectform").html(selectdepartmentitemoptions)
                                            let selectform = $("#selectform").val()
                                            let splitform = selectform.split(",")
                                            selectform = splitform[1]
                                            //let selecteddepartment = $("#selectdepartment").val()
                                            let getItemFormByName = "getItemFormByName"
                                            $.post("controllers/combo-setup.php",{selectform:selectform, getItemFormByName:getItemFormByName},function(formdata){
                                                console.log(formdata)
                                                
                                                    let data=JSON.parse(formdata)
                                                
                                                    //subdepartmentlist = subdepartmentoptions
                                                    $("#selectformcode").html(data.itemcode)
                                                    $("#selectformabbr").html(data.abbreviation)
                                                    
                                            
                                            })
                                            //selectspecimen
                                            let getSpecimenByDepartmentItem = "getSpecimenByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:selectdepartmentitemgroup, getSpecimenByDepartmentItem:getSpecimenByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.specimen + `">` + val.specimen + `</option>
                                                `
                                                })
                                                $("#specimen").html(itemformulationoptions)
                                                
                                                
                                            })
                                            

                                            //selectsample
                                            let getSampleByDepartmentItem = "getSampleByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:selectdepartmentitemgroup, getSampleByDepartmentItem:getSampleByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.sample + `">` + val.sample + `</option>
                                                `
                                                })
                                                $("#sample").html(itemformulationoptions)
                                                
                                                
                                            })
                                        } else {
                                            // = itemformoptions
                                                $("#selectform").html(itemformlist)
                                        }
                                            
                                    
                                    })
                            
                            })
                       // }
                 
                })
                
            })

            $("#selectsubdepartment").on("change", function(evt){
                evt.preventDefault()
                let selectedsubdepartment = $("#selectsubdepartment").val()
                let selecteddepartment = $("#selectdepartment").val()
                let getDepartmentItemGroupBySubDepartment = "getDepartmentItemGroupBySubDepartment"
                $.post("controllers/combo-setup.php",{department:selecteddepartment,subdepartment:selectedsubdepartment, getDepartmentItemGroupBySubDepartment:getDepartmentItemGroupBySubDepartment},function(formdata){
                    console.log(formdata)
                        let data=JSON.parse(formdata)
                        //console.log(formdata)
                        let selectdepartmentitemoptions = ``
                        $.each(data.records, function(key, val) {
                           
                            selectdepartmentitemoptions += `
                            <option value="` + val.departmentitemgroup + `">` + val.departmentitemgroup + `</option>
                          `
                          //console.log(val.subdepartment)
                        })
                        //subdepartmentlist = subdepartmentoptions
                        $("#selectdepartmentitemgroup").html(selectdepartmentitemoptions)
                        let selectdepartmentitemgroup = data.records[0].departmentitemgroup
                        //let selecteddepartment = $("#selectdepartment").val()
                        let getItemFormByDepartmentItem = "getItemFormByDepartmentItem"
                        $.post("controllers/combo-setup.php",{departmentitemgroup:selectdepartmentitemgroup, getItemFormByDepartmentItem:getItemFormByDepartmentItem},function(formdata){
                            console.log(formdata)
                            if(formdata!="No Record Found"){
                                let data=JSON.parse(formdata)
                                //console.log(formdata)
                                let selectdepartmentitemoptions = ``
                                $.each(data.records, function(key, val) {
                                
                                    selectdepartmentitemoptions += `
                                    <option value="` + val.itemcode + `,` + val.itemform + `">` + val.itemform + `</option>
                                `
                                //console.log(val.subdepartment)
                                })
                                //subdepartmentlist = subdepartmentoptions
                                itemformlist = selectdepartmentitemoptions
                                console.log(itemformlist)
                                $("#selectform").html(selectdepartmentitemoptions)
                                let selectform = $("#selectform").val()
                                let splitform = selectform.split(",")
                                selectform = splitform[1]
                                //let selecteddepartment = $("#selectdepartment").val()
                                let getItemFormByName = "getItemFormByName"
                                $.post("controllers/combo-setup.php",{selectform:selectform, getItemFormByName:getItemFormByName},function(formdata){
                                    console.log(formdata)
                                    
                                        let data=JSON.parse(formdata)
                                    
                                        //subdepartmentlist = subdepartmentoptions
                                        $("#selectformcode").html(data.itemcode)
                                        $("#selectformabbr").html(data.abbreviation)
                                        
                                
                                })

                                //selectspecimen
                                let getSpecimenByDepartmentItem = "getSpecimenByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:selectdepartmentitemgroup, getSpecimenByDepartmentItem:getSpecimenByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.specimen + `">` + val.specimen + `</option>
                                                `
                                                })
                                                $("#specimen").html(itemformulationoptions)
                                                
                                                
                                            })
                                            

                                            //selectsample
                                            let getSampleByDepartmentItem = "getSampleByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:selectdepartmentitemgroup, getSampleByDepartmentItem:getSampleByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.sample + `">` + val.sample + `</option>
                                                `
                                                })
                                                $("#sample").html(itemformulationoptions)
                                                
                                                
                                            })
                            } else {
                                // = itemformoptions
                                    $("#selectform").html(itemformlist)
                                    let selectform = $("#selectform").val()
                                    let splitform = selectform.split(",")
                                    selectform = splitform[1]
                                    //let selecteddepartment = $("#selectdepartment").val()
                                    let getItemFormByName = "getItemFormByName"
                                    $.post("controllers/combo-setup.php",{selectform:selectform, getItemFormByName:getItemFormByName},function(formdata){
                                        console.log(formdata)
                                        
                                            let data=JSON.parse(formdata)
                                        
                                            //subdepartmentlist = subdepartmentoptions
                                            $("#selectformcode").html(data.itemcode)
                                            $("#selectformabbr").html(data.abbreviation)
                                            
                                    
                                    })
                            }
                                
                        
                        })
                 
                })
                
            })

            $("#selectdepartmentitemgroup").on("change", function(evt){
                evt.preventDefault()
                let selectdepartmentitemgroup = $("#selectdepartmentitemgroup").val()
                //let selecteddepartment = $("#selectdepartment").val()
                let getItemFormByDepartmentItem = "getItemFormByDepartmentItem"
                $.post("controllers/combo-setup.php",{departmentitemgroup:selectdepartmentitemgroup, getItemFormByDepartmentItem:getItemFormByDepartmentItem},function(formdata){
                    console.log(formdata)
                    if(formdata!="No Record Found"){
                        let data=JSON.parse(formdata)
                        //console.log(formdata)
                        let selectdepartmentitemoptions = ``
                        $.each(data.records, function(key, val) {
                           
                            selectdepartmentitemoptions += `
                            <option value="` + val.itemcode + `,` + val.itemform + `">` + val.itemform + `</option>
                          `
                          //console.log(val.subdepartment)
                        })
                        //subdepartmentlist = subdepartmentoptions
                        itemformlist = selectdepartmentitemoptions
                        console.log(itemformlist)
                        $("#selectform").html(selectdepartmentitemoptions)
                        let selectform = $("#selectform").val()
                        let splitform = selectform.split(",")
                        selectform = splitform[1]
                        //let selecteddepartment = $("#selectdepartment").val()
                        let getItemFormByName = "getItemFormByName"
                        $.post("controllers/combo-setup.php",{selectform:selectform, getItemFormByName:getItemFormByName},function(formdata){
                            console.log(formdata)
                            
                                let data=JSON.parse(formdata)
                            
                                //subdepartmentlist = subdepartmentoptions
                                $("#selectformcode").html(data.itemcode)
                                $("#selectformabbr").html(data.abbreviation)
                                
                        
                        })

                        //selectspecimen
                        let getSpecimenByDepartmentItem = "getSpecimenByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:selectdepartmentitemgroup, getSpecimenByDepartmentItem:getSpecimenByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.specimen + `">` + val.specimen + `</option>
                                                `
                                                })
                                                $("#specimen").html(itemformulationoptions)
                                                
                                                
                                            })
                                            

                                            //selectsample
                                            let getSampleByDepartmentItem = "getSampleByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:selectdepartmentitemgroup, getSampleByDepartmentItem:getSampleByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.sample + `">` + val.sample + `</option>
                                                `
                                                })
                                                $("#sample").html(itemformulationoptions)
                                                
                                                
                                            })
                    } else {
                        // = itemformoptions
                            $("#selectform").html(itemformlist)
                    }
                        
                 
                })
                
            })

            // $("#selectusagegrouptype").on("change", function(evt){
            //     evt.preventDefault()
                
                
            // })

            let itemstatelist = ``
            let itemweightlist = ``
            let itemweightformlist = ``
            let itemvolumelist = ``
            let itemvolumeformlist = ``
            let itemgrouplist = ``
            let itemclasslist = ``
            let itemsubclasslist = ``
            let manufacturerlist = ``
            $("#selectform").on("change", function(evt){
                evt.preventDefault()
                let selectform = $("#selectform").val()
                let splitform = selectform.split(",")
                selectform = splitform[1]
               
                //let selecteddepartment = $("#selectdepartment").val()
                let getItemFormByName = "getItemFormByName"
                $.post("controllers/combo-setup.php",{selectform:selectform, getItemFormByName:getItemFormByName},function(formdata){
                    console.log(formdata)
                    
                        let data=JSON.parse(formdata)
                       
                        //subdepartmentlist = subdepartmentoptions
                        $("#selectformcode").html(data.itemcode)
                        $("#selectformabbr").html(data.abbreviation)
                        $("#selectsolidform").html(`<option value="` + data.abbreviation + `">` + data.abbreviation + `</option>`)
                        $("#selectserviceroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                        $("#selectliquidform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                        $("#selectnonreagentform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                        $("#selectreagentform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                        $("#selectitemroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                        $("#capitalselectitemroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                    })
                    
                })

                let usageroutelist = ``

                $("#selectgenericname").on("change", function(evt){
                    evt.preventDefault()
                    //get list of groups
                    //get list of groups
                    $("#actualweight").val("0")
                    $("#actualvolume").val("0")
                    $("#actualpieces").val("1")
                    $("#actuallength").val("0")
                    $("#actualservice").val("0")
                    $("#actualmicrogram").val("0")
                    $("#actualinternationalunit").val("0")
                    $("#searchgenericname").val("")
                    console.log("test")
                    $("#specialinstruction").val("")
                    let getDepartmentByGenericName = "getDepartmentByGenericName"
                        let searchItem = $("#selectgenericname").val()
                        if(searchItem.includes("/")){
                            $("#combined").val("True")
                        } else {
                            $("#combined").val("")
                        }
                        // $("#genericnamecb").val($("#selectgenericname").text())
                        let combined = $("#combined").val()
                        $.post("controllers/combo-setup.php",{combined:combined,searchItem:searchItem,getDepartmentByGenericName: getDepartmentByGenericName},function(formdata){
                            //console.log("itemGroup: ",data)
                            if(formdata!="No Record Found"){
                                
                                let data=JSON.parse(formdata)
                                let departmentoptions = ``
                                let subdepartmentoptions = ``
                                let departmentitemgroupoptions = ``
                                $.each(data.records, function(key, val) {
                                
                                    departmentoptions += `
                                    <option value="` + val.department + `">` + val.department + `</option>
                                `
                                subdepartmentoptions += `
                                        <option value="` + val.subdepartment + `">` + val.subdepartment + `</option>
                                    `
                                    departmentitemgroupoptions += `
                            <option value="` + val.departmentitemgroup + `">` + val.departmentitemgroup + `</option>
                          `
                                $("#departmentcode").val(val.code)
                                        //$("#subdepartmentcode").val(val.subdepartmentcode)
                                itemgroup = val.itemgroup
                                itemclass = val.itemclass
                                itemsubclass = val.itemsubclass
                                })
                                departmentlist = departmentoptions
                                $("#selectdepartment").html(departmentoptions)
                                $("#selectsubdepartment").html(subdepartmentoptions)
                                $("#selectdepartmentitemgroup").html(departmentitemgroupoptions)
                               
                                let searchdepartmentitemgroup = $("#selectdepartmentitemgroup").val()
                                let getDepartmentItemGroupDetails = "getDepartmentItemGroupDetails"
                                $.post("controllers/combo-setup.php", {searchItem:searchdepartmentitemgroup, getDepartmentItemGroupDetails:getDepartmentItemGroupDetails}, function(data){
                                    console.log(data)
                                    data = JSON.parse(data)
                                    $.each(data.records, function(key, val) {
                                        let itemgrouptype = val.itemgrouptype
                                        let formulation = val.formulation
                                        
                                        let usageroutetype = val.usageroutetype
                                        let usageroute = val.usageroute
                                        let container = val.container
                                        let itemweight = val.itemweight
                                        let itemvolume = val.itemvolume
                                        let itemextraunit = val.itemextraunit


                                        //selectform
                                        let getItemFormByDepartmentItem = "getItemFormByDepartmentItem"
                                        $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getItemFormByDepartmentItem:getItemFormByDepartmentItem},function(formdata){
                                            let data = JSON.parse(formdata)
                                            let itemformulationoptions = ``
                                            $.each(data.records, function(key, val) {
                                
                                                itemformulationoptions += `
                                                <option value="` + val.itemcode + `,` + val.itemform + `">` + val.itemform + `</option>
                                            `
                                            })
                                            itemformlist = itemformulationoptions
                                            console.log(itemformlist)
                                            $("#selectform").html(itemformulationoptions)
                                            selectform = $("#selectform").val()
                                            let splitselectform = selectform.split(",")
                                            let itemcode = splitselectform[1]
                                            //let selecteddepartment = $("#selectdepartment").val()
                                            let getItemFormByName = "getItemFormByName"
                                            $.post("controllers/combo-setup.php",{selectform:itemcode, getItemFormByName:getItemFormByName},function(formdata){
                                                console.log(formdata)
                                                
                                                    let data=JSON.parse(formdata)
                                                
                                                    //subdepartmentlist = subdepartmentoptions
                                                    $("#selectformcode").html(data.itemcode)
                                                    $("#selectformabbr").html(data.abbreviation)
                                                    $("#selectsolidform").html(`<option value="` + data.abbreviation + `">` + data.abbreviation + `</option>`)
                                                    $("#selectserviceroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectliquidform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectnonreagentform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectreagentform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectitemroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#capitalselectitemroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)

                                            })
                                            
                                        })

                                        //selectspecimen
                                        let getSpecimenByDepartmentItem = "getSpecimenByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getSpecimenByDepartmentItem:getSpecimenByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.specimen + `">` + val.specimen + `</option>
                                                `
                                                })
                                                $("#specimen").html(itemformulationoptions)
                                                
                                                
                                            })
                                            

                                            //selectsample
                                            let getSampleByDepartmentItem = "getSampleByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getSampleByDepartmentItem:getSampleByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.sample + `">` + val.sample + `</option>
                                                `
                                                })
                                                $("#sample").html(itemformulationoptions)
                                                
                                                
                                            })
                                            $("#specialinstruction").val("")
                                        
                                        //selectweight
                                            //Solid
                                            let getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            let state = "Solid"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Liquid
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Solid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectnonreagentweight").html(itemformulationoptions)
                                                
                                                
                                            })
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectliquidweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Gas
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Gas"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Service

                                            //Other Units

                                            //selectvolume
                                            //Liquid
                                            let getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Liquid"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectliquidvolumeunit").html(itemformulationoptions)
                                                $("#selectliquidcontainervolumeunit").html(itemformulationoptions)
                                                
                                            })

                                            //Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectliquidvolumeunit").html(itemformulationoptions)
                                                // $("#selectliquidcontainervolumeunit").html(itemformulationoptions)
                                                
                                            })
                                            //Gas
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Gas"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasvolumeunit").html(itemformulationoptions)
                                                $("#selectgascontainervolumeunit").html(itemformulationoptions)
                                                
                                            })

                                            //Liquid-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Liquid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                console.log(formdata)
                                                let data = JSON.parse(formdata)

                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectreagentvolume").html(itemformulationoptions)
                                                $("#selectliquidsolutionvolume").html(itemformulationoptions)
                                                $("#selectliquidsolutioncontainervolume").html(itemformulationoptions)
                                                
                                            })

                                            //Solid-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Solid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidsolutionvolume").html(itemformulationoptions)
                                                $("#selectsolidsolutioncontainervolume").html(itemformulationoptions)
                                                
                                            })

                                            //Gas-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Gas-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasreagentvolume").html(itemformulationoptions)
                                                $("#selectgassolutionvolume").html(itemformulationoptions)
                                                $("#selectgassolutioncontainervolume").html(itemformulationoptions)
                                            })

                                            //Sundry Items
                                            getExtraUnitByDepartmentItemGroup = "getExtraUnitByDepartmentItemGroup"
                                            state = "Sundry Items"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getExtraUnitByDepartmentItemGroup:getExtraUnitByDepartmentItemGroup},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectitemunit").html(itemformulationoptions)
                                                // Get Length
                                                getLengthByDepartmentItemGroup = "getLengthByDepartmentItemGroup"
                                                state = "Sundry Items"
                                                $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getLengthByDepartmentItemGroup:getLengthByDepartmentItemGroup},function(formdata){
                                                    let data = JSON.parse(formdata)
                                                    
                                                    $.each(data.records, function(key, val) {
                                        
                                                        itemformulationoptions += `
                                                        <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                    `
                                                    })
                                                    // $("#selectitemunit").html(itemformulationoptions)

                                                    // Get Length
                                                    
                                                    // $("#capitalselectitemunit").html(itemformulationoptions)
                                                     // Get Volume
                                                     getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                                    state = "Sundry Items"
                                                    $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                        let data = JSON.parse(formdata)
                                                        console.log(data)
                                                        $.each(data.records, function(key, val) {
                                            
                                                            itemformulationoptions += `
                                                            <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                        `
                                                        })
                                                        // $("#selectitemunit").html(itemformulationoptions)

                                                        // Get Length
                                                        
                                                        // $("#capitalselectitemunit").html(itemformulationoptions)
                                                         // Get Weight
                                                         getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                                        state = "Sundry Items"
                                                        $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                            let data = JSON.parse(formdata)
                                                            
                                                            $.each(data.records, function(key, val) {
                                                
                                                                itemformulationoptions += `
                                                                <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                            `
                                                            })
                                                            $("#selectitemunit").html(itemformulationoptions)

                                                            // Get Length
                                                            
                                                            // $("#capitalselectitemunit").html(itemformulationoptions)
                                                            
                                                        })
                                                    })
                                                })
                                            })

                                            //Capital Items
                                            getExtraUnitByDepartmentItemGroup = "getExtraUnitByDepartmentItemGroup"
                                            state = "Capital Items"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getExtraUnitByDepartmentItemGroup:getExtraUnitByDepartmentItemGroup},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectitemunit").html(itemformulationoptions)
                                                $("#capitalselectitemunit").html(itemformulationoptions)
                                                // Get Length
                                                getLengthByDepartmentItemGroup = "getLengthByDepartmentItemGroup"
                                                state = "Sundry Items"
                                                $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getLengthByDepartmentItemGroup:getLengthByDepartmentItemGroup},function(formdata){
                                                    let data = JSON.parse(formdata)
                                                    
                                                    $.each(data.records, function(key, val) {
                                        
                                                        itemformulationoptions += `
                                                        <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                    `
                                                    })
                                                    $("#capitalselectitemunit").html(itemformulationoptions)

                                                    // Get Length
                                                    
                                                    // $("#capitalselectitemunit").html(itemformulationoptions)
                                                    
                                                })
                                            })


                                        //selectserviceunit
                                        //service
                                        let getItemServiceByDepartmentItemGrouping = "getItemServiceByDepartmentItemGrouping"
                                            state = "Service"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemServiceByDepartmentItemGrouping:getItemServiceByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.unit + `">` + val.unit + `</option>
                                                `
                                                })
                                                $("#selectserviceunit").html(itemformulationoptions)
                                                
                                            })

                                            //container
                                            let getItemContainerByDepartmentItemGrouping = "getItemContainerByDepartmentItemGrouping"
                                        
                                            $.post("controllers/combo-setup.php",{searchContainer:searchdepartmentitemgroup, getItemContainerByDepartmentItemGrouping:getItemContainerByDepartmentItemGrouping},function(formdata){
                                                // console.log(formdata)
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidcontainer").html(itemformulationoptions)
                                                $("#selectliquidcontainer").html(itemformulationoptions)
                                                $("#selectgascontainer").html(itemformulationoptions)
                                                $("#selectreagentcontainer").html(itemformulationoptions)
                                                $("#selectnonreagentcontainer").html(itemformulationoptions)
                                                $("#selectgasreagentcontainer").html(itemformulationoptions)
                                            })
                                  
                                        //usageroutetype
                                        let getDeptItemGrpRoute = "getDeptItemGrpRoute"
                                    
                                        $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpRoute:getDeptItemGrpRoute},function(formdata){
                                            let data = JSON.parse(formdata)
                                            let itemformulationoptions = ``
                                            $.each(data.records, function(key, val) {
                                
                                                itemformulationoptions += `
                                                <option value="` + val.usageroutetype + `">` + val.usageroutetype + `</option>
                                            `
                                            })
                                            $("#selectusageroutetype").html(itemformulationoptions)
                                            let searchusageroutetype = $("#selectusageroutetype").val()
                                            let getUsageRouteByType = "getUsageRouteByType"
                                            
                                            //let getGasUsageRoute = "getGasUsageRoute"
                                            // $.post("controllers/combo-setup.php",{selectusageroutetype:searchusageroutetype, getUsageRouteByType: getUsageRouteByType},function(formdata){

                                            // if(formdata!="No Record Found"){
                                            //     console.log(formdata)
                                            //     let data=JSON.parse(formdata)
                                            //     let gasrouteoptions = ``
                                            //     $.each(data.records, function(key, val) {
                                                
                                            //         gasrouteoptions += `
                                            //         <option value="` + val.usageroute + `">` + val.usageroute + `</option>
                                            //     `
                                            //     })
                                            //     // gasroutelist = gasrouteoptions
                                            //     $("#selectgasroute").html(gasrouteoptions)
                                            //     $("#selectserviceroute").html(gasrouteoptions)
                                            //     $("#selectusageroute").html(gasrouteoptions)
                                            // }
                                            // })
                                            //usageroutetype
                                        let getDeptItemGrpRoute = "getDeptItemGrpRoute"
                                    
                                        //let getGasUsageRoute = "getGasUsageRoute"
                                        $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpRoute: getDeptItemGrpRoute},function(formdata){

                                        if(formdata!="No Record Found"){
                                            console.log(formdata)
                                            let data=JSON.parse(formdata)
                                            let gasrouteoptions = ``
                                            $.each(data.records, function(key, val) {
                                            
                                                gasrouteoptions += `
                                                <option value="` + val.usageroute + `">` + val.usageroute + `</option>
                                            `
                                            })
                                            usageroutelist = gasrouteoptions
                                            $("#selectgasroute").html(gasrouteoptions)
                                        
                                            $("#selectusageroute").html(gasrouteoptions)
                                        }
                                        })
    
          
                                                
                                        })

                                        //usage group
                                        let getDeptItemGrpUsageGroup = "getDeptItemGrpUsageGroup"
                                    
                                        $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpUsageGroup:getDeptItemGrpUsageGroup},function(formdata){
                                            let data = JSON.parse(formdata)
                                            let itemformulationoptions = ``
                                            $.each(data.records, function(key, val) {
                                
                                                itemformulationoptions += `
                                                <option value="` + val.itemgroup + `">` + val.itemgroup + `</option>
                                            `
                                            })
                                            $("#selectusagegroup").html(`<option value="` + itemgroup + `">` + itemgroup + `</option> ` + itemformulationoptions)
                                            let searchusagegroup = $("#selectusagegroup").val()
                                            let getItemClassByItemGroup = "getItemClassByItemGroup"
                                            
                                            //let getGasUsageRoute = "getGasUsageRoute"
                                            $.post("controllers/combo-setup.php",{searchItem:searchusagegroup, getItemClassByItemGroup: getItemClassByItemGroup},function(formdata){

                                            if(formdata!="No Record Found"){
                                                console.log(formdata)
                                                let data=JSON.parse(formdata)
                                                let gasrouteoptions = ``
                                                $.each(data.records, function(key, val) {
                                                
                                                    gasrouteoptions += `
                                                    <option value="` + val.itemclass + `">` + val.itemclass + `</option>
                                                `
                                                })
                                                // gasroutelist = gasrouteoptions
                                                $("#selectusageclass").html(`<option value="` + itemclass + `">` + itemclass + `</option>` + gasrouteoptions)
                                                let searchusageclass = $("#selectusageclass").val()
                                                let getItemSubClassByClass = "getItemSubClassByClass"
                                                
                                                //let getGasUsageRoute = "getGasUsageRoute"
                                                $.post("controllers/combo-setup.php",{selectsubclassclass:searchusageclass, getItemSubClassByClass: getItemSubClassByClass},function(formdata){

                                                if(formdata!="No Record Found"){
                                                    console.log(formdata)
                                                    let data=JSON.parse(formdata)
                                                    let gasrouteoptions = ``
                                                    $.each(data.records, function(key, val) {
                                                    
                                                        gasrouteoptions += `
                                                        <option value="` + val.itemsubclass + `">` + val.itemsubclass + `</option>
                                                    `
                                                    })
                                                    gasroutelist = gasrouteoptions
                                                    $("#selectusagesubclass").html(`<option value="` + itemsubclass + `">` + itemsubclass + `</option>` + gasrouteoptions)
                                                    console.log(itemclass, itemgroup, itemsubclass)
                                                }
                                                })
                                            }
                                            })
          
                                                
                                        })
       
                                    })
                                })
                            }
                        })
                    
                })

                $("#combinedgenericname").on("change",function(evt){
                    evt.preventDefault()

                    let searchItem = $("#combinedgenericname").val()

                    console.log(searchItem)

                    searchItem = searchItem[0]
                    //get list of groups
                    let getDepartmentByGenericName = "getDepartmentByGenericName"
                        // let searchItem = $("#selectgenericname").val()
                        let combined = $("#combined").val()
                        $.post("controllers/combo-setup.php",{combined:combined,searchItem:searchItem,getDepartmentByGenericName: getDepartmentByGenericName},function(formdata){
                            //console.log("itemGroup: ",data)
                            if(formdata!="No Record Found"){
                                
                                let data=JSON.parse(formdata)
                                let departmentoptions = ``
                                let subdepartmentoptions = ``
                                let departmentitemgroupoptions = ``
                                $.each(data.records, function(key, val) {
                                
                                    departmentoptions += `
                                    <option value="` + val.department + `">` + val.department + `</option>
                                `
                                subdepartmentoptions += `
                                        <option value="` + val.subdepartment + `">` + val.subdepartment + `</option>
                                    `
                                    departmentitemgroupoptions += `
                            <option value="` + val.departmentitemgroup + `">` + val.departmentitemgroup + `</option>
                          `
                                $("#departmentcode").val(val.code)
                                        //$("#subdepartmentcode").val(val.subdepartmentcode)
                                itemgroup = val.itemgroup
                                itemclass = val.itemclass
                                itemsubclass = val.itemsubclass
                                })
                                departmentlist = departmentoptions
                                $("#selectdepartment").html(departmentoptions)
                                $("#selectsubdepartment").html(subdepartmentoptions)
                                $("#selectdepartmentitemgroup").html(departmentitemgroupoptions)
                                
                                let searchdepartmentitemgroup = $("#selectdepartmentitemgroup").val()
                                let getDepartmentItemGroupDetails = "getDepartmentItemGroupDetails"
                                $.post("controllers/combo-setup.php", {searchItem:searchdepartmentitemgroup, getDepartmentItemGroupDetails:getDepartmentItemGroupDetails}, function(data){
                                    console.log(data)
                                    data = JSON.parse(data)
                                    $.each(data.records, function(key, val) {
                                        let itemgrouptype = val.itemgrouptype
                                        let formulation = val.formulation
                                       
                                        let usageroutetype = val.usageroutetype
                                        let usageroute = val.usageroute
                                        let container = val.container
                                        let itemweight = val.itemweight
                                        let itemvolume = val.itemvolume
                                        let itemextraunit = val.itemextraunit


                                        //selectform
                                        let getItemFormByDepartmentItem = "getItemFormByDepartmentItem"
                                        $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getItemFormByDepartmentItem:getItemFormByDepartmentItem},function(formdata){
                                            let data = JSON.parse(formdata)
                                            let itemformulationoptions = ``
                                            $.each(data.records, function(key, val) {
                                
                                                itemformulationoptions += `
                                                <option value="` + val.itemcode + `,` + val.itemform + `">` + val.itemform + `</option>
                                            `
                                            })
                                            itemformlist = itemformulationoptions
                                            console.log(itemformlist)
                                            $("#selectform").html(itemformulationoptions)
                                            selectform = $("#selectform").val()
                                            let splitselectform = selectform.split(",")
                                            let itemcode = splitselectform[1]
                                            //let selecteddepartment = $("#selectdepartment").val()
                                            let getItemFormByName = "getItemFormByName"
                                            $.post("controllers/combo-setup.php",{selectform:itemcode, getItemFormByName:getItemFormByName},function(formdata){
                                                console.log(formdata)
                                                
                                                    let data=JSON.parse(formdata)
                                                
                                                    //subdepartmentlist = subdepartmentoptions
                                                    $("#selectformcode").html(data.itemcode)
                                                    $("#selectformabbr").html(data.abbreviation)
                                                    $("#selectsolidform").html(`<option value="` + data.abbreviation + `">` + data.abbreviation + `</option>`)
                                                    $("#selectserviceroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectliquidform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectnonreagentform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectreagentform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectitemroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#capitalselectitemroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                            })
                                            
                                        })

                                        
                                        //selectspecimen
                                        let getSpecimenByDepartmentItem = "getSpecimenByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getSpecimenByDepartmentItem:getSpecimenByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.specimen + `">` + val.specimen + `</option>
                                                `
                                                })
                                                $("#specimen").html(itemformulationoptions)
                                                
                                                
                                            })
                                            

                                            //selectsample
                                            let getSampleByDepartmentItem = "getSampleByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getSampleByDepartmentItem:getSampleByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.sample + `">` + val.sample + `</option>
                                                `
                                                })
                                                $("#sample").html(itemformulationoptions)
                                                
                                                
                                            })
                                        
                                        
                                        //selectweight
                                            //Solid
                                            let getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            let state = "Solid"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Liquid
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Solid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectnonreagentweight").html(itemformulationoptions)
                                                
                                                
                                            })
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectliquidweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Gas
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Gas"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Service

                                            //Other Units

                                            //selectvolume
                                            //Liquid
                                            let getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Liquid"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectliquidvolumeunit").html(itemformulationoptions)
                                                $("#selectliquidcontainervolumeunit").html(itemformulationoptions)
                                                
                                            })

                                            //Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectliquidvolumeunit").html(itemformulationoptions)
                                                // $("#selectliquidcontainervolumeunit").html(itemformulationoptions)
                                                
                                            })
                                            //Gas
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Gas"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasvolumeunit").html(itemformulationoptions)
                                                $("#selectgascontainervolumeunit").html(itemformulationoptions)
                                                
                                            })

                                            //Liquid-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Liquid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                console.log(formdata)
                                                let data = JSON.parse(formdata)

                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectreagentvolume").html(itemformulationoptions)
                                                $("#selectliquidsolutionvolume").html(itemformulationoptions)
                                                $("#selectliquidsolutioncontainervolume").html(itemformulationoptions)
                                                
                                            })

                                            //Solid-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Solid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidsolutionvolume").html(itemformulationoptions)
                                                $("#selectsolidsolutioncontainervolume").html(itemformulationoptions)
                                                
                                            })

                                            //Gas-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Gas-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasreagentvolume").html(itemformulationoptions)
                                                $("#selectgassolutionvolume").html(itemformulationoptions)
                                                $("#selectgassolutioncontainervolume").html(itemformulationoptions)
                                            })

                                            //Sundry Items
                                            getExtraUnitByDepartmentItemGroup = "getExtraUnitByDepartmentItemGroup"
                                            state = "Sundry Items"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getExtraUnitByDepartmentItemGroup:getExtraUnitByDepartmentItemGroup},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectitemunit").html(itemformulationoptions)
                                                // Get Length
                                                getLengthByDepartmentItemGroup = "getLengthByDepartmentItemGroup"
                                                state = "Sundry Items"
                                                $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getLengthByDepartmentItemGroup:getLengthByDepartmentItemGroup},function(formdata){
                                                    let data = JSON.parse(formdata)
                                                    
                                                    $.each(data.records, function(key, val) {
                                        
                                                        itemformulationoptions += `
                                                        <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                    `
                                                    })
                                                    // $("#selectitemunit").html(itemformulationoptions)

                                                    // Get Length
                                                    
                                                    // $("#capitalselectitemunit").html(itemformulationoptions)
                                                     // Get Volume
                                                     getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                                    state = "Sundry Items"
                                                    $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                        let data = JSON.parse(formdata)
                                                        console.log(data)
                                                        $.each(data.records, function(key, val) {
                                            
                                                            itemformulationoptions += `
                                                            <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                        `
                                                        })
                                                        // $("#selectitemunit").html(itemformulationoptions)

                                                        // Get Length
                                                        
                                                        // $("#capitalselectitemunit").html(itemformulationoptions)
                                                         // Get Weight
                                                         getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                                        state = "Sundry Items"
                                                        $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                            let data = JSON.parse(formdata)
                                                            
                                                            $.each(data.records, function(key, val) {
                                                
                                                                itemformulationoptions += `
                                                                <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                            `
                                                            })
                                                            $("#selectitemunit").html(itemformulationoptions)

                                                            // Get Length
                                                            
                                                            // $("#capitalselectitemunit").html(itemformulationoptions)
                                                            
                                                        })
                                                    })
                                                })
                                            })

                                            //Capital Items
                                            getExtraUnitByDepartmentItemGroup = "getExtraUnitByDepartmentItemGroup"
                                            state = "Capital Items"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getExtraUnitByDepartmentItemGroup:getExtraUnitByDepartmentItemGroup},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectitemunit").html(itemformulationoptions)
                                                $("#capitalselectitemunit").html(itemformulationoptions)
                                                // Get Length
                                                getLengthByDepartmentItemGroup = "getLengthByDepartmentItemGroup"
                                                state = "Sundry Items"
                                                $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getLengthByDepartmentItemGroup:getLengthByDepartmentItemGroup},function(formdata){
                                                    let data = JSON.parse(formdata)
                                                    
                                                    $.each(data.records, function(key, val) {
                                        
                                                        itemformulationoptions += `
                                                        <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                    `
                                                    })
                                                    $("#capitalselectitemunit").html(itemformulationoptions)

                                                    // Get Length
                                                    
                                                    // $("#capitalselectitemunit").html(itemformulationoptions)
                                                    
                                                })
                                            })


                                        //selectserviceunit
                                        //service
                                        let getItemServiceByDepartmentItemGrouping = "getItemServiceByDepartmentItemGrouping"
                                            state = "Service"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemServiceByDepartmentItemGrouping:getItemServiceByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.unit + `">` + val.unit + `</option>
                                                `
                                                })
                                                $("#selectserviceunit").html(itemformulationoptions)
                                                
                                            })

                                            //container
                                            let getItemContainerByDepartmentItemGrouping = "getItemContainerByDepartmentItemGrouping"
                                        
                                            $.post("controllers/combo-setup.php",{searchContainer:searchdepartmentitemgroup, getItemContainerByDepartmentItemGrouping:getItemContainerByDepartmentItemGrouping},function(formdata){
                                                // console.log(formdata)
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidcontainer").html(itemformulationoptions)
                                                $("#selectliquidcontainer").html(itemformulationoptions)
                                                $("#selectgascontainer").html(itemformulationoptions)
                                                $("#selectreagentcontainer").html(itemformulationoptions)
                                                $("#selectnonreagentcontainer").html(itemformulationoptions)
                                                $("#selectgasreagentcontainer").html(itemformulationoptions)
                                            })
                                  
                                        //usageroutetype
                                        let getDeptItemGrpRoute = "getDeptItemGrpRoute"
                                    
                                        $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpRoute:getDeptItemGrpRoute},function(formdata){
                                            let data = JSON.parse(formdata)
                                            let itemformulationoptions = ``
                                            $.each(data.records, function(key, val) {
                                
                                                itemformulationoptions += `
                                                <option value="` + val.usageroutetype + `">` + val.usageroutetype + `</option>
                                            `
                                            })
                                            $("#selectusageroutetype").html(itemformulationoptions)
                                            let searchusageroutetype = $("#selectusageroutetype").val()
                                            let getUsageRouteByType = "getUsageRouteByType"
                                            
                                            //let getGasUsageRoute = "getGasUsageRoute"
                                            // $.post("controllers/combo-setup.php",{selectusageroutetype:searchusageroutetype, getUsageRouteByType: getUsageRouteByType},function(formdata){

                                            // if(formdata!="No Record Found"){
                                            //     console.log(formdata)
                                            //     let data=JSON.parse(formdata)
                                            //     let gasrouteoptions = ``
                                            //     $.each(data.records, function(key, val) {
                                                
                                            //         gasrouteoptions += `
                                            //         <option value="` + val.usageroute + `">` + val.usageroute + `</option>
                                            //     `
                                            //     })
                                            //     // gasroutelist = gasrouteoptions
                                            //     $("#selectgasroute").html(gasrouteoptions)
                                            //     $("#selectserviceroute").html(gasrouteoptions)
                                            //     $("#selectusageroute").html(gasrouteoptions)
                                            // }
                                            // })
                                            //usageroutetype
                                        let getDeptItemGrpRoute = "getDeptItemGrpRoute"
                                        
                                        //let getGasUsageRoute = "getGasUsageRoute"
                                        $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpRoute: getDeptItemGrpRoute},function(formdata){

                                        if(formdata!="No Record Found"){
                                            console.log(formdata)
                                            let data=JSON.parse(formdata)
                                            let gasrouteoptions = ``
                                            $.each(data.records, function(key, val) {
                                            
                                                gasrouteoptions += `
                                                <option value="` + val.usageroute + `">` + val.usageroute + `</option>
                                            `
                                            })
                                            usageroutelist = gasrouteoptions
                                            $("#selectgasroute").html(gasrouteoptions)
                                        
                                            $("#selectusageroute").html(gasrouteoptions)
                                        }
                                        })
    
          
                                                
                                        })

                                        //usage group
                                        let getDeptItemGrpUsageGroup = "getDeptItemGrpUsageGroup"
                                    
                                        $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpUsageGroup:getDeptItemGrpUsageGroup},function(formdata){
                                            let data = JSON.parse(formdata)
                                            let itemformulationoptions = ``
                                            $.each(data.records, function(key, val) {
                                
                                                itemformulationoptions += `
                                                <option value="` + val.itemgroup + `">` + val.itemgroup + `</option>
                                            `
                                            })
                                            $("#selectusagegroup").html(`<option value="` + itemgroup + `">` + itemgroup + `</option>` + itemformulationoptions)
                                            let searchusagegroup = $("#selectusagegroup").val()
                                            let getItemClassByItemGroup = "getItemClassByItemGroup"
                                            
                                            //let getGasUsageRoute = "getGasUsageRoute"
                                            $.post("controllers/combo-setup.php",{searchItem:searchusagegroup, getItemClassByItemGroup: getItemClassByItemGroup},function(formdata){

                                            if(formdata!="No Record Found"){
                                                console.log(formdata)
                                                let data=JSON.parse(formdata)
                                                let gasrouteoptions = ``
                                                $.each(data.records, function(key, val) {
                                                
                                                    gasrouteoptions += `
                                                    <option value="` + val.itemclass + `">` + val.itemclass + `</option>
                                                `
                                                })
                                                // gasroutelist = gasrouteoptions
                                                $("#selectusageclass").html(`<option value="` + itemclass + `">` + itemclass + `</option>` + gasrouteoptions)
                                                let searchusageclass = $("#selectusageclass").val()
                                                let getItemSubClassByClass = "getItemSubClassByClass"
                                                
                                                //let getGasUsageRoute = "getGasUsageRoute"
                                                $.post("controllers/combo-setup.php",{selectsubclassclass:searchusageclass, getItemSubClassByClass: getItemSubClassByClass},function(formdata){

                                                if(formdata!="No Record Found"){
                                                    console.log(formdata)
                                                    let data=JSON.parse(formdata)
                                                    let gasrouteoptions = ``
                                                    $.each(data.records, function(key, val) {
                                                    
                                                        gasrouteoptions += `
                                                        <option value="` + val.itemsubclass + `">` + val.itemsubclass + `</option>
                                                    `
                                                    })
                                                    gasroutelist = gasrouteoptions
                                                    $("#selectusagesubclass").html(`<option value="` + itemsubclass + `">` + itemsubclass + `</option>` + gasrouteoptions)
                                                    console.log(itemclass, itemgroup, itemsubclass)
                                                }
                                                })
                                            }
                                            })
          
                                                
                                        })
       
                                    })
                                })
                            }
                        })
                })

                $("#selectusagegrouptype").on("change", function(evt){
                evt.preventDefault()
                let selectusagegroup = $("#selectusagegrouptype").val()
                let getItemGroupByUsageGroupType = "getItemGroupByUsageGroupType"
                $.post("controllers/combo-setup.php",{selectusagegroup:selectusagegroup, getItemGroupByUsageGroupType:getItemGroupByUsageGroupType},function(formdata){
                    console.log(formdata)
                        let data=JSON.parse(formdata)
                        console.log(formdata)
                        let selectsubdepartmentoptions = ``
                        $.each(data.records, function(key, val) {
                           
                            selectsubdepartmentoptions += `
                            <option value="` + val.itemgroup + `">` + val.itemgroup + `</option>
                          `
                          //console.log(val.subdepartment)
                        })
                        //subdepartmentlist = subdepartmentoptions
                        $("#selectusagegroup").html(selectsubdepartmentoptions)
                        let selectsubclassgroup = $("#selectusagegroup").val()
                        let getItemClassByItemGroup = "getItemClassByItemGroup"
                        $.post("controllers/combo-setup.php",{selectsubclassgroup:selectsubclassgroup, getItemClassByItemGroup:getItemClassByItemGroup},function(formdata){
                            console.log(formdata)
                                let data=JSON.parse(formdata)
                                console.log(formdata)
                                let selectsubdepartmentoptions = ``
                                $.each(data.records, function(key, val) {
                                
                                    selectsubdepartmentoptions += `
                                    <option value="` + val.itemclass + `">` + val.itemclass + `</option>
                                `
                                //console.log(val.subdepartment)
                                })
                                //subdepartmentlist = subdepartmentoptions
                                $("#selectusageclass").html(selectsubdepartmentoptions)
                                
                                let selectsubclassclass = $("#selectusageclass").val()
                                let getItemSubClassByClass = "getItemSubClassByClass"
                                $.post("controllers/combo-setup.php",{selectsubclassclass:selectsubclassclass, getItemSubClassByClass:getItemSubClassByClass},function(formdata){
                                    console.log(formdata)
                                        let data=JSON.parse(formdata)
                                        console.log(formdata)
                                        let selectsubdepartmentoptions = ``
                                        $.each(data.records, function(key, val) {
                                        
                                            selectsubdepartmentoptions += `
                                            <option value="` + val.itemsubclass + `">` + val.itemsubclass + `</option>
                                        `
                                        //console.log(val.subdepartment)
                                        })
                                        //subdepartmentlist = subdepartmentoptions
                                        $("#selectusagesubclass").html(selectsubdepartmentoptions)
                                
                                        
                                        let selectusagegrouptype = $("#selectusagegrouptype").val()
                                        //let selecteddepartment = $("#selectdepartment").val()
                                        let getItemFormByUsageGroupType = "getItemFormByUsageGroupType"
                                        $.post("controllers/combo-setup.php",{usagegrouptype:selectusagegrouptype, getItemFormByUsageGroupType:getItemFormByUsageGroupType},function(formdata){
                                            console.log(formdata)
                                            if(formdata!="No Record Found"){
                                                let data=JSON.parse(formdata)
                                                //console.log(formdata)
                                                let selectdepartmentitemoptions = ``
                                                $.each(data.records, function(key, val) {
                                                
                                                    selectdepartmentitemoptions += `
                                                    <option value="` + val.itemcode + `,` + val.itemform + `">` + val.itemform + `</option>
                                                `
                                                //console.log(val.subdepartment)
                                                })
                                                //subdepartmentlist = subdepartmentoptions
                                                itemformlist = selectdepartmentitemoptions
                                                console.log(itemformlist)
                                                $("#selectform").html(selectdepartmentitemoptions)
                                                let selectform = $("#selectform").val()
                                                let splitform = selectform.split(",")
                                                selectform = splitform[1]
                                                //let selecteddepartment = $("#selectdepartment").val()
                                                let getItemFormByName = "getItemFormByName"
                                                $.post("controllers/combo-setup.php",{selectform:selectform, getItemFormByName:getItemFormByName},function(formdata){
                                                    console.log(formdata)
                                                    
                                                        let data=JSON.parse(formdata)
                                                    
                                                        //subdepartmentlist = subdepartmentoptions
                                                        $("#selectformcode").html(data.itemcode)
                                                        $("#selectformabbr").html(data.abbreviation)
                                                        
                                                
                                                })
                                            } else {
                                                // = itemformoptions
                                                    $("#selectform").html(itemformlist)
                                            }
                                                
                                        
                                        })
                                })
                        })
                    })
                })

                $("#selectusagegroup").on("change", function(evt){
                    evt.preventDefault()
                    let selectsubclassgroup = $("#selectusagegroup").val()
                        let getItemClassByItemGroup = "getItemClassByItemGroup"
                        $.post("controllers/combo-setup.php",{searchItem:selectsubclassgroup, getItemClassByItemGroup:getItemClassByItemGroup},function(formdata){
                            console.log(formdata)
                                let data=JSON.parse(formdata)
                                console.log(formdata)
                                let selectsubdepartmentoptions = ``
                                $.each(data.records, function(key, val) {
                                
                                    selectsubdepartmentoptions += `
                                    <option value="` + val.itemclass + `">` + val.itemclass + `</option>
                                `
                                //console.log(val.subdepartment)
                                })
                                //subdepartmentlist = subdepartmentoptions
                                $("#selectusageclass").html(selectsubdepartmentoptions)
                                
                                let selectsubclassclass = $("#selectusageclass").val()
                                let getItemSubClassByClass = "getItemSubClassByClass"
                                $.post("controllers/combo-setup.php",{selectsubclassclass:selectsubclassclass, getItemSubClassByClass:getItemSubClassByClass},function(formdata){
                                    console.log(formdata)
                                        let data=JSON.parse(formdata)
                                        console.log(formdata)
                                        let selectsubdepartmentoptions = ``
                                        $.each(data.records, function(key, val) {
                                        
                                            selectsubdepartmentoptions += `
                                            <option value="` + val.itemsubclass + `">` + val.itemsubclass + `</option>
                                        `
                                        //console.log(val.subdepartment)
                                        })
                                        //subdepartmentlist = subdepartmentoptions
                                        $("#selectusagesubclass").html(selectsubdepartmentoptions)
                                
                                })
                        })
                })

                $("#selectusageclass").on("change", function(evt){
                    evt.preventDefault()
                    let selectsubclassclass = $("#selectusageclass").val()
                    let getItemSubClassByClass = "getItemSubClassByClass"
                    $.post("controllers/combo-setup.php",{selectsubclassclass:selectsubclassclass, getItemSubClassByClass:getItemSubClassByClass},function(formdata){
                        console.log(formdata)
                            let data=JSON.parse(formdata)
                            console.log(formdata)
                            let selectsubdepartmentoptions = ``
                            $.each(data.records, function(key, val) {
                            
                                selectsubdepartmentoptions += `
                                <option value="` + val.itemsubclass + `">` + val.itemsubclass + `</option>
                            `
                            //console.log(val.subdepartment)
                            })
                            //subdepartmentlist = subdepartmentoptions
                            $("#selectusagesubclass").html(selectsubdepartmentoptions)
                    
                    })
                })

                $("#selectusageroutetype").on("change", function(evt){
                    evt.preventDefault()
                    let selectusageroutetype = $("#selectusageroutetype").val()
                    let getUsageRouteByType = "getUsageRouteByType"
                    $.post("controllers/combo-setup.php",{selectusageroutetype:selectusageroutetype, getUsageRouteByType:getUsageRouteByType},function(formdata){
                        console.log(formdata)
                            let data=JSON.parse(formdata)
                            console.log(formdata)
                            let selectsubdepartmentoptions = ``
                            $.each(data.records, function(key, val) {
                            
                                selectsubdepartmentoptions += `
                                <option value="` + val.usageroute + `">` + val.usageroute + `</option>
                            `
                            //console.log(val.subdepartment)
                            })
                            usageroutelist = subdepartmentoptions
                            $("#selectusageroute").html(selectsubdepartmentoptions)
                    
                    })
                })


                // let itemformlist = ``
                let departmentlist = ``
                
                
                //Stock Item Function
               function GetStockItemFunction(){
                $("#edit-stockitem-button").hide()
                $("#cancel-stockitem-button").hide()
                $("#delete-stockitem-button").hide()
                $("#add-stockitem-button").show()
                $(".form-edit-stockitem").html("")
                $("#checkcombinedstrength").prop('checked', false)
                //let genericnamelist = ``
                //get list of groups

                $("#actualweight").val("0")
                $("#actualvolume").val("0")
                $("#actualpieces").val("1")
                $("#actuallength").val("0")
                $("#actualservice").val("0")
                // $("#actualmicrogram").val("0")
                $("#actualinternationalunit").val("0")
                

                let getGenericName = "getGenericName"
                let searchItem = ""
                $.post("controllers/combo-setup.php",{searchItem:searchItem,getGenericName: getGenericName},function(formdata){
                    //console.log("itemGroup: ",data)
                    if(formdata!="No Record Found"){
                        // console.log(formdata)
                        let data=JSON.parse(formdata)
                        let genericnameoptions = ``
                        let genericnamecb = ""
                        $.each(data.records, function(key, val) {
                           
                           if(val.combined=="True"){
                            genericnamecb = val.genericnamecb
                           } else {
                            genericnamecb = val.genericname
                           }
                            genericnameoptions += `
                            <option value="` + genericnamecb + `">` + val.genericname + `</option>
                          `
                        })
                        genericnamelist = genericnameoptions
                        $("#selectgenericname").html(genericnameoptions)
                        $("#combinedgenericname").html(genericnameoptions)

                        let itemgenericname = $("#selectgenericname").val()
                        if(itemgenericname.includes("/")){
                            $("#combined").val("True")
                        } else {
                            $("#combined").val("")
                        }
                        $("#genericnamecb").val($("#selectgenericname").val())


                        //get list of groups
                        let getDepartmentByGenericName = "getDepartmentByGenericName"
                        let searchItem = $("#selectgenericname").val()
                        let combined = $("#combined").val()
                        console.log(combined)
                        $.post("controllers/combo-setup.php",{combined:combined,searchItem:searchItem,getDepartmentByGenericName: getDepartmentByGenericName},function(formdata){
                            console.log("generic name: ",searchItem, formdata)
                            if(formdata!="No Record Found"){
                                
                                let data=JSON.parse(formdata)
                                let departmentoptions = ``
                                let subdepartmentoptions = ``
                                let departmentitemgroupoptions = ``
                                $.each(data.records, function(key, val) {
                                
                                    departmentoptions += `
                                    <option value="` + val.department + `">` + val.department + `</option>
                                `
                                subdepartmentoptions += `
                                        <option value="` + val.subdepartment + `">` + val.subdepartment + `</option>
                                    `
                                    departmentitemgroupoptions += `
                            <option value="` + val.departmentitemgroup + `">` + val.departmentitemgroup + `</option>
                          `
                                $("#departmentcode").val(val.code)
                                        //$("#subdepartmentcode").val(val.subdepartmentcode)
                                itemgroup = val.itemgroup
                                itemclass = val.itemclass
                                itemsubclass = val.itemsubclass
                                })
                                departmentlist = departmentoptions
                                $("#selectdepartment").html(departmentoptions)
                                $("#selectsubdepartment").html(subdepartmentoptions)
                                $("#selectdepartmentitemgroup").html(departmentitemgroupoptions)
                               
                                let searchdepartmentitemgroup = $("#selectdepartmentitemgroup").val()
                                let getDepartmentItemGroupDetails = "getDepartmentItemGroupDetails"
                                $.post("controllers/combo-setup.php", {searchItem:searchdepartmentitemgroup, getDepartmentItemGroupDetails:getDepartmentItemGroupDetails}, function(data){
                                    // console.log(data)
                                    data = JSON.parse(data)
                                    $.each(data.records, function(key, val) {
                                        let itemgrouptype = val.itemgrouptype
                                        let formulation = val.formulation
                                       
                                        let usageroutetype = val.usageroutetype
                                        let usageroute = val.usageroute
                                        let container = val.container
                                        let itemweight = val.itemweight
                                        let itemvolume = val.itemvolume
                                        let itemextraunit = val.itemextraunit


                                        //selectform
                                        let getItemFormByDepartmentItem = "getItemFormByDepartmentItem"
                                        $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getItemFormByDepartmentItem:getItemFormByDepartmentItem},function(formdata){
                                            let data = JSON.parse(formdata)
                                            let itemformulationoptions = ``
                                            $.each(data.records, function(key, val) {
                                
                                                itemformulationoptions += `
                                                <option value="` + val.itemcode + `,` + val.itemform + `">` + val.itemform + `</option>
                                            `
                                            })
                                            itemformlist = itemformulationoptions
                                            console.log(itemformlist)
                                            $("#selectform").html(itemformulationoptions)
                                            selectform = $("#selectform").val()
                                            let splitselectform = selectform.split(",")
                                            let itemcode = splitselectform[1]
                                            //let selecteddepartment = $("#selectdepartment").val()
                                            let getItemFormByName = "getItemFormByName"
                                            $.post("controllers/combo-setup.php",{selectform:itemcode, getItemFormByName:getItemFormByName},function(formdata){
                                                console.log(formdata)
                                                
                                                    let data=JSON.parse(formdata)
                                                
                                                    //subdepartmentlist = subdepartmentoptions
                                                    $("#selectformcode").html(data.itemcode)
                                                    $("#selectformabbr").html(data.abbreviation)
                                                    $("#selectsolidform").html(`<option value="` + data.abbreviation + `">` + data.abbreviation + `</option>`)
                                                    $("#selectserviceroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectliquidform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectnonreagentform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectreagentform").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#selectitemroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                                    $("#capitalselectitemroute").html(`<option value="` + data.itemform + `">` + data.itemform + `</option>`)
                                            })
                                            
                                        })

                                        
                                        //selectspecimen
                                        let getSpecimenByDepartmentItem = "getSpecimenByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getSpecimenByDepartmentItem:getSpecimenByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.specimen + `">` + val.specimen + `</option>
                                                `
                                                })
                                                $("#specimen").html(itemformulationoptions)
                                                
                                                
                                            })
                                            

                                            //selectsample
                                            let getSampleByDepartmentItem = "getSampleByDepartmentItem"
                                            $.post("controllers/combo-setup.php",{departmentitemgroup:searchdepartmentitemgroup, getSampleByDepartmentItem:getSampleByDepartmentItem},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.sample + `">` + val.sample + `</option>
                                                `
                                                })
                                                $("#sample").html(itemformulationoptions)
                                                
                                                
                                            })
                                        
                                        
                                        //selectweight
                                            //Solid
                                            let getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            let state = "Solid"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Liquid
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Solid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectnonreagentweight").html(itemformulationoptions)
                                                
                                                
                                            })
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectliquidweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Gas
                                            getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                            state = "Gas"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasweightunit").html(itemformulationoptions)
                                                
                                                
                                            })
                                            //Service

                                            //Other Units

                                            //selectvolume
                                            //Liquid
                                            let getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Liquid"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectliquidvolumeunit").html(itemformulationoptions)
                                                $("#selectliquidcontainervolumeunit").html(itemformulationoptions)
                                                
                                            })

                                            //Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectliquidvolumeunit").html(itemformulationoptions)
                                                // $("#selectliquidcontainervolumeunit").html(itemformulationoptions)
                                                
                                            })
                                            //Gas
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Gas"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasvolumeunit").html(itemformulationoptions)
                                                $("#selectgascontainervolumeunit").html(itemformulationoptions)
                                                
                                            })

                                            //Liquid-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Liquid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                console.log(formdata)
                                                let data = JSON.parse(formdata)

                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectreagentvolume").html(itemformulationoptions)
                                                $("#selectliquidsolutionvolume").html(itemformulationoptions)
                                                $("#selectliquidsolutioncontainervolume").html(itemformulationoptions)
                                                
                                            })

                                            //Solid-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Solid-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidsolutionvolume").html(itemformulationoptions)
                                                $("#selectsolidsolutioncontainervolume").html(itemformulationoptions)
                                                
                                            })

                                            //Gas-Liquid Solution
                                            getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                            state = "Gas-Liquid Solution"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectgasreagentvolume").html(itemformulationoptions)
                                                $("#selectgassolutionvolume").html(itemformulationoptions)
                                                $("#selectgassolutioncontainervolume").html(itemformulationoptions)
                                            })

                                            //Sundry Items
                                            getExtraUnitByDepartmentItemGroup = "getExtraUnitByDepartmentItemGroup"
                                            state = "Sundry Items"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getExtraUnitByDepartmentItemGroup:getExtraUnitByDepartmentItemGroup},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectitemunit").html(itemformulationoptions)
                                                // Get Length
                                                getLengthByDepartmentItemGroup = "getLengthByDepartmentItemGroup"
                                                state = "Sundry Items"
                                                $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getLengthByDepartmentItemGroup:getLengthByDepartmentItemGroup},function(formdata){
                                                    let data = JSON.parse(formdata)
                                                    
                                                    $.each(data.records, function(key, val) {
                                        
                                                        itemformulationoptions += `
                                                        <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                    `
                                                    })
                                                    // $("#selectitemunit").html(itemformulationoptions)

                                                    // Get Length
                                                    
                                                    // $("#capitalselectitemunit").html(itemformulationoptions)
                                                     // Get Volume
                                                     getItemVolumeByDepartmentItemGrouping = "getItemVolumeByDepartmentItemGrouping"
                                                    state = "Sundry Items"
                                                    $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemVolumeByDepartmentItemGrouping:getItemVolumeByDepartmentItemGrouping},function(formdata){
                                                        let data = JSON.parse(formdata)
                                                        console.log(data)
                                                        $.each(data.records, function(key, val) {
                                            
                                                            itemformulationoptions += `
                                                            <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                        `
                                                        })
                                                        // $("#selectitemunit").html(itemformulationoptions)

                                                        // Get Length
                                                        
                                                        // $("#capitalselectitemunit").html(itemformulationoptions)
                                                         // Get Weight
                                                         getItemWeightByDepartmentItemGrouping = "getItemWeightByDepartmentItemGrouping"
                                                        state = "Sundry Items"
                                                        $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemWeightByDepartmentItemGrouping:getItemWeightByDepartmentItemGrouping},function(formdata){
                                                            let data = JSON.parse(formdata)
                                                            
                                                            $.each(data.records, function(key, val) {
                                                
                                                                itemformulationoptions += `
                                                                <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                            `
                                                            })
                                                            $("#selectitemunit").html(itemformulationoptions)

                                                            // Get Length
                                                            
                                                            // $("#capitalselectitemunit").html(itemformulationoptions)
                                                            
                                                        })
                                                    })
                                                })
                                            })

                                            //Capital Items
                                            getExtraUnitByDepartmentItemGroup = "getExtraUnitByDepartmentItemGroup"
                                            state = "Capital Items"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getExtraUnitByDepartmentItemGroup:getExtraUnitByDepartmentItemGroup},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                // $("#selectitemunit").html(itemformulationoptions)
                                                $("#capitalselectitemunit").html(itemformulationoptions)
                                                // Get Length
                                                getLengthByDepartmentItemGroup = "getLengthByDepartmentItemGroup"
                                                state = "Sundry Items"
                                                $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getLengthByDepartmentItemGroup:getLengthByDepartmentItemGroup},function(formdata){
                                                    let data = JSON.parse(formdata)
                                                    
                                                    $.each(data.records, function(key, val) {
                                        
                                                        itemformulationoptions += `
                                                        <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                    `
                                                    })
                                                    $("#capitalselectitemunit").html(itemformulationoptions)

                                                    // Get Length
                                                    
                                                    // $("#capitalselectitemunit").html(itemformulationoptions)
                                                    
                                                })
                                            })


                                        //selectserviceunit
                                        //service
                                        let getItemServiceByDepartmentItemGrouping = "getItemServiceByDepartmentItemGrouping"
                                            state = "Service"
                                            $.post("controllers/combo-setup.php",{state:state,searchItem:searchdepartmentitemgroup, getItemServiceByDepartmentItemGrouping:getItemServiceByDepartmentItemGrouping},function(formdata){
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.unit + `">` + val.unit + `</option>
                                                `
                                                })
                                                $("#selectserviceunit").html(itemformulationoptions)
                                                
                                            })

                                            //container
                                            let getItemContainerByDepartmentItemGrouping = "getItemContainerByDepartmentItemGrouping"
                                        
                                            $.post("controllers/combo-setup.php",{searchContainer:searchdepartmentitemgroup, getItemContainerByDepartmentItemGrouping:getItemContainerByDepartmentItemGrouping},function(formdata){
                                                // console.log(formdata)
                                                let data = JSON.parse(formdata)
                                                let itemformulationoptions = ``
                                                $.each(data.records, function(key, val) {
                                    
                                                    itemformulationoptions += `
                                                    <option value="` + val.abbreviation + `">` + val.abbreviation + `</option>
                                                `
                                                })
                                                $("#selectsolidcontainer").html(itemformulationoptions)
                                                $("#selectliquidcontainer").html(itemformulationoptions)
                                                $("#selectgascontainer").html(itemformulationoptions)
                                                $("#selectreagentcontainer").html(itemformulationoptions)
                                                $("#selectnonreagentcontainer").html(itemformulationoptions)
                                                $("#selectgasreagentcontainer").html(itemformulationoptions)
                                            })

                                        //usageroutetype
                                        let getDeptItemGrpRoute = "getDeptItemGrpRoute"
                                    
                                           //let getGasUsageRoute = "getGasUsageRoute"
                                            $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpRoute: getDeptItemGrpRoute},function(formdata){

                                            if(formdata!="No Record Found"){
                                                console.log(formdata)
                                                let data=JSON.parse(formdata)
                                                let gasrouteoptions = ``
                                                $.each(data.records, function(key, val) {
                                                
                                                    gasrouteoptions += `
                                                    <option value="` + val.usageroute + `">` + val.usageroute + `</option>
                                                `
                                                })
                                                // gasroutelist = gasrouteoptions
                                                $("#selectgasroute").html(gasrouteoptions)
                                              
                                                $("#selectusageroute").html(gasrouteoptions)
                                            }
                                            })
          
                                                
                                    

                                        //usage group
                                        let getDeptItemGrpUsageGroup = "getDeptItemGrpUsageGroup"
                                    
                                        $.post("controllers/combo-setup.php",{searchItem:searchdepartmentitemgroup, getDeptItemGrpUsageGroup:getDeptItemGrpUsageGroup},function(formdata){
                                            let data = JSON.parse(formdata)
                                            let itemformulationoptions = ``
                                            $.each(data.records, function(key, val) {
                                
                                                itemformulationoptions += `
                                                <option value="` + val.itemgroup + `">` + val.itemgroup + `</option>
                                            `
                                            })
                                            $("#selectusagegroup").html(`<option value="` + itemgroup + `">` + itemgroup + `</option>` + itemformulationoptions)
                                            let searchusagegroup = $("#selectusagegroup").val()
                                            let getItemClassByItemGroup = "getItemClassByItemGroup"
                                            
                                            //let getGasUsageRoute = "getGasUsageRoute"
                                            $.post("controllers/combo-setup.php",{searchItem:searchusagegroup, getItemClassByItemGroup: getItemClassByItemGroup},function(formdata){

                                            if(formdata!="No Record Found"){
                                                console.log(formdata)
                                                let data=JSON.parse(formdata)
                                                let gasrouteoptions = ``
                                                $.each(data.records, function(key, val) {
                                                
                                                    gasrouteoptions += `
                                                    <option value="` + val.itemclass + `">` + val.itemclass + `</option>
                                                `
                                                })
                                                // gasroutelist = gasrouteoptions
                                                $("#selectusageclass").html(`<option value="` + itemclass + `">` + itemclass + `</option>` + gasrouteoptions)
                                                let searchusageclass = $("#selectusageclass").val()
                                                let getItemSubClassByClass = "getItemSubClassByClass"
                                                
                                                //let getGasUsageRoute = "getGasUsageRoute"
                                                $.post("controllers/combo-setup.php",{selectsubclassclass:searchusageclass, getItemSubClassByClass: getItemSubClassByClass},function(formdata){

                                                if(formdata!="No Record Found"){
                                                    console.log(formdata)
                                                    let data=JSON.parse(formdata)
                                                    let gasrouteoptions = ``
                                                    $.each(data.records, function(key, val) {
                                                    
                                                        gasrouteoptions += `
                                                        <option value="` + val.itemsubclass + `">` + val.itemsubclass + `</option>
                                                    `
                                                    })
                                                    gasroutelist = gasrouteoptions
                                                    $("#selectusagesubclass").html(`<option value="` + itemsubclass + `">` + itemsubclass + `</option>` + gasrouteoptions)
                                                    console.log(itemclass, itemgroup, itemsubclass)
                                                }
                                                })
                                            }
                                            })
          
                                                
                                        })
       
                                    })
                                })
                            }
                        })
                    }
                    
                    
                    


                   


                    
                   

                  
                    let getItemState = "getItemState"
                    let searchItem=""
                    $.post("controllers/combo-setup.php",{searchItem:searchItem,getItemState: getItemState},function(formdata){

                        if(formdata!="No Record Found"){
                            
                            let data=JSON.parse(formdata)
                            let itemstateoptions = `<option value="Solid">Solid</option>`
                            $.each(data.records, function(key, val) {
                            
                                itemstateoptions += `
                                <option value="` + val.itemstate + `">` + val.itemstate + `</option>
                            `
                            })
                            itemstatelist = itemstateoptions
                            $("#selectstate").html(itemstateoptions)
                        }


                                
                                
                                   
                                let manufacturerlist = ``
                                let getManufacturer = "getManufacturer"
                                let searchItem = ""
                                $.post("controllers/combo-setup.php",{searchItem:searchItem,getManufacturer: getManufacturer},function(formdata){

                                if(formdata!="No Record Found"){
                                    
                                    let data=JSON.parse(formdata)
                                    let manufactureroptions = ``
                                    $.each(data.records, function(key, val) {
                                    
                                        manufactureroptions += `
                                        <option value="` + val.manufacturer + `">` + val.manufacturer + `</option>
                                    `
                                    })
                                    manufacturerlist = manufactureroptions
                                    //$("#selectmanufacturername").html(manufactureroptions)
                                }

                                    
                         
                                
                //$("#manufacturertradename").val("")
                            GetItemSearchFunction()

                                })
                    })
                })
                  
            }
            function oneifnull(value){
                if(value==null){
                    return 1
                } else if(value==""){
                    return 1
                } else {
                    return value
                }
            }
            function zeroifnull(value){
                if(value==null){
                    return 0
                } else if(value==""){
                    return 0
                } else {
                    return value
                }
            }

            GetStockItemFunction()
            $("#searchitemservice").on('change keyup paste', function () {
                ApplyFilterGetItem();
            });

            function ApplyFilterGetItem() {
                var searchitemservice = $("#searchitemservice").val();
                console.log("GetManufacturersFunction")
                GetItemSearchFunction()
            }

            function GetItemSearchFunction(){
                
                let getItem = "getItem"
                let searchItem = $("#searchitemservice").val()
                $.post("controllers/combo-setup.php",{searchItem:searchItem,getItem: getItem},function(formdata){
                    //console.log(data)
                    if(formdata=="No Record Found"){
                        $("#view-stockitem-count").html(formdata)
                    }else{
                        // console.log(formdata)
                        console.log(typeof(formdata))
                        let data=JSON.parse(formdata)
                        console.log(data)
                        let count = 0
                            
                        let totalrecord = ``
                        $.each(data.records, function(key, val) {
                            count++
                          totalrecord += `
                            <tr>
                                <td>
                                    
                                    <a href="#" data-id="` + val.id + `" style="" class="btn btn-outline-default take-btn itemname"><h3 style="color:blue;">` + val.genericname + `</h3></a>
                                </td>                 
                                <td>
                                    
                                    <p style="font-size:18px;font-weight:bold;">` + val.department + `[` + val.subdepartment + `]</p>
                                </td>
                                
                                <td>
                                    
                                    <p style="font-size:18px;font-weight:bold;">` + val.usagegrouptype + `[` + val.strengthvalue + `]</p>
                                </td>
                                <!--<td>
                                    <a href="#" data-id="` + val.id + `" class="btn btn-outline-success take-btn edit-item">Edit</a>
                                    <a href="#" data-id="` + val.id + `" class="btn btn-outline-danger take-btn delete-item">Delete</a>
                                </td>-->
                            </tr>
                          `
                        })
                        $("#view-stockitem-count").html(count + " Record(s) Found")
                        $("#view-stockitem-list").html(totalrecord)
                    }

                    $(".edit-stockitem").on("click", function(evt){
                            evt.preventDefault()
                            let id = $(this).attr("data-id")
                            let getStockItemById = "getStockItemById"
                            $.post("controllers/combo-setup.php", {id:id, getGenericNameById: getGenericNameById}, function(data){
                                console.log(data)
                                formdata=JSON.parse(data)
                                //$("#subclass").val(formdata.itemsubclass)
                                //$("#itemclass").val(formdata.itemclass)
                                let genericname = formdata.genericname
                                genericname = genericname.slice(0, -1)

                                let genericnamecb = formdata.genericnamecb

                                let itemstate = formdata.itemstate

                                $("#actualweight").val(formdata.actualweight)
                                $("#actualvolume").val(formdata.actualvolume)
                                $("#actualpieces").val(formdata.actualpieces)
                                $("#actuallength").val(formdata.actuallength)
                                $("#actualservice").val(formdata.actualservice)
                                $("#actualmicrogram").val(formdata.actualmicrogram)
                                $("#actualinternationalunit").val(formdata.actualinternationalunit)
                                console.log(formdata.actualweight)
                                $("#selectgenericname").html(`<option value="` + genericnamecb + `" selected>` + genericname +`</option>` +  genericnamelist)
                                $("#selectdepartment").html(`<option value="` + formdata.department + `" selected>` + formdata.department +`</option>` +  departmentlist)
                                $("#departmentcode").val(formdata.departmentcode)
                                $("#subdepartmentcode").val(formdata.subdepartmentcode)
                                $("#selectsubdepartment").html(`<option value="` + formdata.subdepartment + `" selected>` + formdata.subdepartment +`</option>` +  subdepartmentlist)
                                $("#selectdepartmentitemgroup").html(`<option value="` + formdata.departmentitemgroup + `" selected>` + formdata.departmentitemgroup +`</option>` +  departmentitemgrouplist)
                                $("#selectstate").html(`<option value="` + formdata.itemstate + `" selected>` + formdata.itemstate +`</option>` +  itemstatelist)
                                if(formdata.itemstate=="Solid"){
                                    $("#selectweightunit").html(`<option value="` + formdata.itemweightunit + `" selected>` + formdata.itemweightunit +`</option>` +  itemweightlist)
                                    $("#selectitemweightform").html(formdata.itemweightform)
                                    $("#itemweight").val(formdata.itemweight)
                                    $("#solidstrength").show()
                                } else {
                                    $("#selectvolumeunit").html(`<option value="` + formdata.itemvolumeunit + `" selected>` + formdata.itemvolumeunit +`</option>` +  itemvolumelist)
                                    $("#selectitemvolumeform").html(formdata.itemvolumeform)
                                    $("#itemvolume").val(formdata.itemvolume)
                                }
                                $("#selectusagegroup").html(`<option value="` + formdata.itemgroup + `" selected>` + formdata.itemgroup +`</option>` +  itemgrouplist)
                                $("#selectusageclass").html(`<option value="` + formdata.itemclass + `" selected>` + formdata.itemclass +`</option>` +  itemclasslist)
                                $("#selectusagesubclass").html(`<option value="` + formdata.itemsubclass + `" selected>` + formdata.itemsubclass +`</option>` +  itemsubclasslist)                                
                                $("#selectmanufacturername").html(`<option value="` + formdata.itemmanufacturer + `" selected>` + formdata.itemmanufacturer +`</option>` +  manufacturerlist)                                
                                 $("#searchgenericname").val(genericname)
                                $("#manufacturertradename").val(formdata.tradename)
                                $(".form-edit-stockitem").html(`<input type="hidden" name="stockitemid" id="stockitemid" value="` + id + `">`)
                            
                                $("#edit-stockitem-button").show()
                            })
                            
                           
                        })
                    $(".itemname").on("click", function(evt){
                        evt.preventDefault()
                            let id = $(this).attr("data-id")
                            let GetGenericNameDetails = "GetGenericNameDetails"
                            $.post("controllers/combo-setup.php", {id:id, GetGenericNameDetails: GetGenericNameDetails}, function(data){
                                console.log(data)
                                formdata=JSON.parse(data)
                                //console.log(selectedsubclassgroup)
                                let genericname = formdata.genericname
                                let genericnamecb = formdata.genericnamecb
                                let combined = formdata.combined

                                genericname = genericname.slice(0, -1)

                                let itemform = formdata.itemform
                                let splititemform = itemform.split(",")
                                let displayitemform = splititemform[1]
                                console.log(splititemform)
                                $("#selectform").html("<option value='" + itemform + "'>" + displayitemform + "</option>" + itemformlist)
                                $("#selectformabbr").html(formdata.itemformabbreviation)
                                $("#selectformcode").html(formdata.itemformcode)
                                let sample = formdata.sample
                                let specimen = formdata.specimen
                                let specialinstruction = formdata.specialinstruction
                               
                                $("#selectsolidform").html(`<option value="` + formdata.itemformabbreviation + `">` + formdata.itemformabbreviation + `</option>`)
                                $("#selectserviceroute").html(`<option value="` + displayitemform + `">` + displayitemform + `</option>`)
                                $("#selectliquidform").html(`<option value="` + displayitemform + `">` + displayitemform + `</option>`)
                                $("#selectnonreagentform").html(`<option value="` + displayitemform + `">` + displayitemform + `</option>`)
                                $("#selectreagentform").html(`<option value="` + displayitemform + `">` + displayitemform + `</option>`)
                                $("#selectitemroute").html(`<option value="` + displayitemform + `">` + displayitemform + `</option>`)
                                $("#capitalselectitemroute").html(`<option value="` + displayitemform + `">` + displayitemform + `</option>`)


                                
                                $("#actualweight").val(formdata.actualweight)
                                $("#actualvolume").val(formdata.actualvolume)
                                $("#actualpieces").val(formdata.actualpieces)
                                $("#actuallength").val(formdata.actuallength)
                                $("#actualservice").val(formdata.actualservice)
                                $("#actualmicrogram").val(formdata.actualmicrogram)
                                $("#actualinternationalunit").val(formdata.actualinternationalunit)
                                // console.log(formdata.actualweight)


                           

                                $("#selectgenericname").html(`<option value="` + genericnamecb + `" selected>` + genericname +`</option>` +  genericnamelist)
                                $("#selectdepartment").html(`<option value="` + formdata.department + `" selected>` + formdata.department +`</option>` +  departmentlist)
                                $("#departmentcode").val(formdata.departmentcode)
                                $("#subdepartmentcode").val(formdata.subdepartmentcode)
                              $("#selectsubdepartment").html(`<option value="` + formdata.subdepartment + `" selected>` + formdata.subdepartment +`</option>` +  subdepartmentlist)
                                $("#selectdepartmentitemgroup").html(`<option value="` + formdata.departmentitemgroup + `" selected>` + formdata.departmentitemgroup +`</option>` +  departmentitemgrouplist)
                                let departmentitemgroup = $("#selectdepartmentitemgroup").val()
                                //selectform
                                let getItemFormByDepartmentItem = "getItemFormByDepartmentItem"
                                $.post("controllers/combo-setup.php",{departmentitemgroup:departmentitemgroup, getItemFormByDepartmentItem:getItemFormByDepartmentItem},function(formdata){
                                    let data = JSON.parse(formdata)
                                    let itemformulationoptions = ``
                                    $.each(data.records, function(key, val) {
                        
                                        itemformulationoptions += `
                                        <option value="` + val.itemcode + `,` + val.itemform + `">` + val.itemform + `</option>
                                    `
                                    })
                                    itemformlist = itemformulationoptions
                                    
                                    // $("#selectform").html(itemformulationoptions)
                                    $("#selectform").html("<option value='" + itemform + "'>" + displayitemform + "</option>" + itemformlist)
                                })
                                //get lab items
                                
                                let getSampleByDepartmentItem = "getSampleByDepartmentItem"
                                $.post("controllers/combo-setup.php",{departmentitemgroup:departmentitemgroup,getSampleByDepartmentItem:getSampleByDepartmentItem},function(formdata){
                                    let data = JSON.parse(formdata)
                                    let usagerouteoptions = ``
                                    $.each(data.records, function(key, val) {
                                            
                                        usagerouteoptions += `
                                            <option value="` + val.sample + `">` + val.sample + `</option>
                                        `
                                    })
                                    $("#sample").html(`<option value="` + sample + `">` + sample + `</option>` + usagerouteoptions)
                                })

                                let getSpecimenByDepartmentItem = "getSpecimenByDepartmentItem"
                                $.post("controllers/combo-setup.php",{departmentitemgroup:departmentitemgroup,getSpecimenByDepartmentItem:getSpecimenByDepartmentItem},function(formdata){
                                    let data = JSON.parse(formdata)
                                    let usagerouteoptions = ``
                                    $.each(data.records, function(key, val) {
                                            
                                        usagerouteoptions += `
                                            <option value="` + val.specimen + `">` + val.specimen + `</option>
                                        `
                                    })
                                    $("#specimen").html(`<option value="` + specimen + `">` + specimen + `</option>` + usagerouteoptions)
                                })

                                $("#specialinstruction").val(specialinstruction)
            

                                
                                let getDeptItemGrpRoute = "getDeptItemGrpRoute"
                                let getusageroute = formdata.usageroute
                                $.post("controllers/combo-setup.php",{searchItem:departmentitemgroup,getDeptItemGrpRoute:getDeptItemGrpRoute},function(formdata){
                                    data = JSON.parse(formdata)
                                    console.log(data)
                                    let usagerouteoptions = ``
                                    $.each(data.records, function(key, val) {
                                            
                                        usagerouteoptions += `
                                            <option value="` + val.usageroute + `">` + val.usageroute + `</option>
                                        `
                                        })
                                        usageroutelist = usagerouteoptions
                                        console.log(usageroutelist)
                                        $("#selectusageroute").html(`<option value="` + getusageroute + `" selected>` + getusageroute +`</option>` +  usageroutelist)                                
                                })

                                $("#selectstate").html(`<option value="` + formdata.itemstate + `" selected>` + formdata.itemstate +`</option>` +  itemstatelist)
                                if(formdata.itemstate=="Solid"){
                                    $("#selectweightunit").html(`<option value="` + formdata.itemweightunit + `" selected>` + formdata.itemweightunit +`</option>` +  itemweightlist)
                                    $("#selectweightformulation").html(`<option value="` + formdata.itemweightform + `" selected>` + formdata.itemweightform +`</option>` +  itemweightformlist)
                                    $("#itemweight").val(formdata.itemweight)
                                    $("#solidstrength").show()
                                } else {
                                    $("#selectvolumeunit").html(`<option value="` + formdata.itemvolumeunit + `" selected>` + formdata.itemvolumeunit +`</option>` +  itemvolumelist)
                                    $("#selectvolumeformulation").html(`<option value="` + formdata.itemvolumeform + `" selected>` + formdata.itemvolumeform +`</option>` +  itemvolumeformlist)
                                    $("#itemvolume").val(formdata.itemvolume)
                                }

                                let strengthvalue = formdata.strengthvalue

                                getStateView(genericnamecb, formdata.itemstate, strengthvalue, combined)
                                $("#selectusagegroup").html(`<option value="` + formdata.usagegroup + `" selected>` + formdata.usagegroup +`</option>` +  itemgrouplist)
                                $("#selectusageclass").html(`<option value="` + formdata.usageclass + `" selected>` + formdata.usageclass +`</option>` +  itemclasslist)
                                $("#selectusagesubclass").html(`<option value="` + formdata.usagesubclass + `" selected>` + formdata.usagesubclass +`</option>` +  itemsubclasslist)   
                                console.log("usage",usageroutelist)                             
                               
                                $("#selectmanufacturername").html(`<option value="` + formdata.itemmanufacturer + `" selected>` + formdata.itemmanufacturer +`</option>` +  manufacturerlist)                                
                                 
                                $("#searchgenericname").val(genericname)
                                $("#manufacturertradename").val(formdata.tradename)
                                $(".form-edit-stockitem").html(`<input type="hidden" name="stockitemid" id="stockitemid" value="` + id + `">`)
                            
                                $("#delete-stockitem-button").show()
                                $("#cancel-stockitem-button").show()
                                $("#edit-stockitem-button").show()
                                $("#add-stockitem-button").hide()
                    })
                            
                    })
                    })
                    
            }

//             $("#selectitemduration").on('change keyup paste', function () {
//                             
//                 $("#actualpieces").val($("#selectitemduration").val())
// 
//             })

            //Add New Item
            $("#add-stockitem-button").on("click", function(evt){
                evt.preventDefault()
                //check for genericname
                //generate code as well
                let codename = ""
                let genericname = ""
                if($("#checkcombinedstrength").is(":checked")){
                        let genericnames = $("#selectgenericname").val()
                        let genericnamesplit = genericnames.split(".")
                        genericnames = genericnamesplit
                        console.log(genericnames)

                        let i = 0
                        genericnames.forEach(val => {
                            i++
                            console.log(val)
                            let value = val.substring(0,3)
                            if (i == genericnames.count){
                                
                                genericname += val
                                codename += value
                            } else {
                                genericname += val + "."
                                codename += value + "."
                            }
                        });
                      
                    } else {
                        genericname = $("#selectgenericname").val() + "."
                        codename = genericname.substring(0,3) + "."
                    }
                
                console.log(genericname)
                console.log(codename)

                let department = $("#selectdepartment").val()
                let departmentcode = $("#departmentcode").val()
                let subdepartmentcode = $("#subdepartmentcode").val()
                
                let subdepartment = $("#selectsubdepartment").val()
                let departmentitemgroup = $("#selectdepartmentitemgroup").val()
                let subdepartmentitemgroup = departmentitemgroup.substring(0, 3)
                let stocknumber = departmentcode + "/" + subdepartmentitemgroup
                //let itemnumber = departmentcode + "/" + 
                
                let itemform = $("#selectform").val()
                let itemstate = $("#selectstate").val()

                //get item strength
                let itemstrength = ""
                if($("#checkcombinedstrength").is(":checked")){
                        $("#combineditemstrengthform").show()
                        let genericname = $("#selectgenericname").val()
                        genericname = genericname.replaceAll("/",".")
                        let genericnamesplit = genericname.split(".")
                        let combinedarray = genericnamesplit
                        let i =0
                        let solidinputweights = ``
                        let liquidinputweights = ``
                        let gasinputweights = ``
                        let serviceinputweights = ``
                        let iteminputweights = ``
                        let reagentinputweights = ``
                        let nonreagentinputweights = ``
                        let gasreagentinputweights = ``
                        console.log(combinedarray)
                        combinedarray.forEach(val => {
                            i++
                            solidinputweights = `#solid_weight_` + i  
                            liquidinputweights = `#liquid_weight_` + i  
                            gasinputweights =  `#gas_weight_` + i 
                            serviceinputweights = `#service_weight_` + i 
                            iteminputweights = `#item_weight_` + i 
                            capitaliteminputweights = `#capitalitem_weight_` + i 
                            reagentinputweights = `#reagent_weight_` + i 
                            nonreagentinputweights = `#nonreagent_weight_` + i 
                            gasreagentinputweights = `#gasreagent_weight_` + i 
                            console.log(val)
                            if(itemstate=="Solid"){
                                itemstrength += $(solidinputweights).val() + "/"
                            } else if(itemstate=="Liquid" || itemstate=="Solution"){
                                itemstrength += $(liquidinputweights).val() + "/"
                            } else if(itemstate=="Gas"){
                                itemstrength += $(gasinputweights).val() + "/"
                            } else if(itemstate=="Service"){
                                itemstrength += $(serviceinputweights).val() + "/"
                            } else if(itemstate=="Sundry Items"){
                                itemstrength += $(iteminputweights).val() + "/"
                            }else if(itemstate=="Capital Items"){
                                itemstrength += $(capitaliteminputweights).val() + "/"
                            }else if(itemstate=="Liquid-Liquid Solution"){
                                itemstrength += $(reagentinputweights).val() + "/"
                            } else if(itemstate=="Solid-Liquid Solution"){
                                itemstrength += $(nonreagentinputweights).val() + "/"
                            } else if(itemstate=="Gas-Liquid Solution"){
                                itemstrength += $(gasreagentinputweights).val() + "/"
                            }
                        });
                        console.log(itemstrength)
                        //console.log($("#combinedgenericname").val())
                    } else {

                        if(itemstate=="Solid"){
                            itemstrength = $("#solid_weight_0").val() + "."
                        } else if(itemstate=="Liquid" || itemstate=="Solution"){
                            itemstrength = $("#liquid_weight_0").val() + "."
                        } else if(itemstate=="Gas"){
                            itemstrength = $("#gas_weight_0").val() + "."
                        } else if(itemstate=="Service"){
                            itemstrength = $("#service_weight_0").val() + "."
                        } else if(itemstate=="Sundry Items"){
                            itemstrength = $("#item_weight_0").val() + "."
                        } else if(itemstate=="Capital Items"){
                            itemstrength = $("#capitalitem_weight_0").val() + "."
                        } else if(itemstate=="Liquid-Liquid Solution"){
                            itemstrength = $("#reagent_weight_0").val() + "."
                        } else if(itemstate=="Solid-Liquid Solution"){
                            itemstrength = $("#nonreagent_weight_0").val() + "."
                        } else if(itemstate=="Gas-Liquid Solution"){
                            itemstrength = $("#gasreagent_weight_0").val() + "."
                        }
         


                        //$("#combineditemstrengthform").hide()
                    }

                    itemstrength = itemstrength.substring(0,itemstrength.length - 1)
                    console.log(itemstrength)

                    let weight = ""
                    let strengthform = ""
                    let container = ""
                    let volumeunit = ""
                    let volumevalue = ""
                    let volume = ""
                    let involumevalue = ""
                    let involume = ""
                    let timevalue = ""
                    let time = ""
                    let route = ""
                    let service = ""
                    let serviceduration = ""
                    let itemduration = ""
                    let capitalitemduration = ""
                    let itemunit = ""
                    let strengthvalue = ""
                    let item = ""
                    let pieces = ""
                    let actualpieces = parseFloat($("#actualpieces").val())
                    let actualweight = parseFloat($("#actualweight").val())
                    let actualvolume = parseFloat($("#actualvolume").val())
                    let actuallength = parseFloat($("#actuallength").val())
                    let actualservice = parseFloat($("#actualservice").val())
                    let actualmicrogram = parseFloat($("#actualmicrogram").val())
                    let actualinternationalunit = parseFloat($("#actualinternationalunit").val())
                    //check for state
                    if(itemstate=="Liquid"){
                        strengthform = $("#selectliquidform").val()
                    }
                    if(itemstate=="Solid"){
                        
                        weight = $("#selectsolidweightunit").val()
                        strengthform = $("#selectsolidform").val()
                        breakform = strengthform.split(",")
                        container = $("#selectsolidcontainer").val()
                        pieces = zeroifnull($("#solidpieces").val())
                        // actualpieces = parseFloat($("#solidpieces").val())
                        // actualweight = parseFloat(itemstrength)
                        if(pieces>0){
                            strengthvalue = itemstrength + " " + weight + "/" + strengthform + " per " + container + " of " + pieces + " " + strengthform + "(s)"
                        } else {
                            strengthvalue = itemstrength + " " + weight + "/" + strengthform
                        }
                        

                    } else if(itemstate=="Liquid" || itemstate=="Solution"){
                        // weight = $("#selectliquidweightunit").val()
                        // volumevalue = $("#liquidvolumevalue").val()
                        volume = $("#selectliquidvolumeunit").val()
                        involumevalue = $("#liquidcontainervolumevalue").val()
                        involume = $("#selectliquidcontainervolumeunit").val()
                        
                        container = $("#selectliquidcontainer").val()
                        // actualweight = parseFloat(itemstrength)
                        // actualvolume = parseFloat(involumevalue)
                        strengthvalue = itemstrength + " " + volume + " " + strengthform + "/ " + involumevalue + " " + involume + " " + container
                    } else if(itemstate=="Gas"){
                        // weight = $("#selectgasweightunit").val()
                        // volumevalue = $("#gasvolumevalue").val()
                        weight = $("#selectgasvolumeunit").val()
                        involumevalue = $("#gascontainervolume").val()
                        involume = $("#selectgascontainervolumeunit").val()
                        container = $("#selectgascontainer").val()
                        // actualweight = parseFloat(itemstrength)
                        // actualvolume = parseFloat($("#gasvolumevalue").val())
                        strengthvalue = itemstrength + " " + weight + " / " + involumevalue + " " + involume + " in " + container
                    } else if(itemstate=="Service"){
                        service = $("#selectserviceunit").val()
                        route = $("#selectserviceroute").val()
                        serviceduration = $("#selectserviceduration").val() + " " + $("#selectserviceperiod").val()
                        // actualpieces = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + service + " " + route + "/" + serviceduration
                    } else if(itemstate=="Sundry Items"){
                        item = $("#selectitemunit").val()
                        pieces = $("#selectitemquantity").val()
                        route = $("#selectitemroute").val()
                        itemduration = $("#selectitemduration").val() + " " + $("#selectitemperiod").val()
                        // actualpieces = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + item + " of_" + pieces + "_" + route + "/" + itemduration
                    } else if(itemstate=="Capital Items"){
                        item = $("#capitalselectitemunit").val()
                        route = $("#capitalselectitemroute").val()
                        capitalitemduration = $("#capitalselectitemduration").val() + " " + $("#capitalselectitemperiod").val()
                        // actualpieces = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + item + "/" + route + " " + capitalitemduration
                    } else if(itemstate=="Liquid-Liquid Solution"){
                        volumeunit = $("#selectreagentvolume").val()
                        volumevalue = $("#liquidsolutionvalue").val()
                        volume = $("#selectliquidsolutionvolume").val()
                        involumevalue = $("#liquidsolutioncontainervalue").val()
                        involume = $("#selectliquidsolutioncontainervolume").val()
                        container = $("#selectreagentcontainer").val()
                        strengthform = $("#selectreagentform").val().trim()
                        // actualvolume = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + volumeunit + " in " + volumevalue + " " + volume + " " + strengthform + "/" + involumevalue + " " + involume + " " + container
                    } else if(itemstate=="Solid-Liquid Solution"){
                        weight = $("#selectnonreagentweight").val()
                        volumevalue = $("#solidsolutionvalue").val()
                        volume = $("#selectsolidsolutionvolume").val()
                        involumevalue = $("#solidsolutioncontainervalue").val()
                        involume = $("#selectsolidsolutioncontainervolume").val()
                        container = $("#selectnonreagentcontainer").val()
                        strengthform = $("#selectnonreagentform").val().trim()
                        // actualvolume = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + weight + " in " + volumevalue + " " + volume + "_" + strengthform + "/" + involumevalue + " " + involume + " " + container
                        console.log(itemstrength + " " + weight + " in " + volumevalue + " " + volume + "_" + strengthform + "/" + involumevalue + " " + involume + " " + container)
                    } else if(itemstate=="Gas-Liquid Solution"){
                        volumeunit = $("#selectgasreagentvolume").val()
                        volumevalue = $("#gassolutionvalue").val()
                        weight = $("#selectgassolutionvolume").val()
                        involumevalue = $("#gassolutioncontainervalue").val()
                        involume = $("#selectgassolutioncontainervolume").val()
                        container = $("#selectgasreagentcontainer").val()
                        // actualvolume = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + volumeunit + "/" + volumevalue + " " + volume + " in " + involumevalue + " " + involume + " " + container
                    }
        
                    
                let specimen = $("#specimen").val()
                let sample = $("#sample").val()
                let specialinstruction = $("#specialinstruction").val()
                let usagegrouptype = ""
                let usagegroup = $("#selectusagegroup").val()
                let usageclass = $("#selectusageclass").val()
                let usagesubclass = $("#selectusagesubclass").val()
                let usageroutetype = ""
                let usageroute = ""
                let itemformabbreviation = $("#selectformabbr").text()
                let itemformcode = $("#selectformcode").text()
                let combined = $("#combined").val()
                let genericnamecb = $("#genericnamecb").val()

                //generate stock number
                let deptabbreviation = department.substring(0, 3)
                let deptitmgrpabbreviation =departmentitemgroup.substring(0,3 )
                let stockitemnumber = deptabbreviation + "/" + deptitmgrpabbreviation 
                //console.log(stockitemnumber)

                let addItem = "addItem"
                //console.log(genericname,genericnamecb)
                let splitgenericname = genericname.split(".")
                genericname = splitgenericname[0]
                $.post("controllers/combo-setup.php", {
                    genericname:genericname,
                    genericnamecb:genericnamecb,
                    combined:combined,
                    stockitemnumber:stockitemnumber,
                    stocknumber:stocknumber,
                    codename:codename,
                    department:department,
                    departmentcode:departmentcode,
                    subdepartmentcode:subdepartmentcode,
                    subdepartment:subdepartment,
                    departmentitemgroup:departmentitemgroup,
                    itemform:itemform,
                    itemformabbreviation:itemformabbreviation,
                    itemformcode:itemformcode,
                    itemstate:itemstate,
                    itemstrength:itemstrength,
                    weight:weight,
                    strengthform:strengthform,
                    container:container,
                    volumevalue:volumevalue,
                    involumevalue:involumevalue,
                    involume:involume,
                    volume:volume,
                    volumeunit:volumeunit,
                    timevalue:timevalue,
                    time:time,
                    route:route,
                    service:service,
                    usagegrouptype:usagegrouptype,
                    usagegroup:usagegroup,
                    usageclass:usageclass,
                    usagesubclass:usagesubclass,
                    usageroutetype:usageroutetype,
                    usageroute:usageroute,
                    strengthvalue:strengthvalue,
                    actualpieces:actualpieces,
                    actualweight:actualweight,
                    actualvolume:actualvolume,
                    actuallength:actuallength,
                    actualservice:actualservice,
                    actualmicrogram:actualmicrogram,
                    actualinternationalunit:actualinternationalunit,
                    specimen:specimen,
                    sample:sample,
                    specialinstruction:specialinstruction,
                    addItem:addItem
                },function(data){
                    $("#stockitem-status").html(data)
                    GetStockItemFunction()
                })
            })



            $("#edit-stockitem-button").on("click", function(evt){
                evt.preventDefault()
                //check for genericname
                //generate code as well
                let codename = ""
                let genericname = ""
                if($("#checkcombinedgenericname").is(":checked")){
                        let genericnames = $("#combinedgenericname").val()
                        console.log(genericnames)
                        let i = 0
                        genericnames.forEach(val => {
                            i++
                            console.log(val)
                            let value = val.substring(0,3)
                            if (i == genericnames.count){
                                
                                genericname += val
                                codename += value
                            } else {
                                genericname += val + "."
                                codename += value + "."
                            }
                        });
                      
                    } else {
                        genericname = $("#selectgenericname").val() + "."
                        codename = genericname.substring(0,3) + "."
                    }
                
                console.log(genericname)
                console.log(codename)

                let department = $("#selectdepartment").val()
                let departmentcode = $("#departmentcode").val()
                let subdepartmentcode = $("#subdepartmentcode").val()
                
                let subdepartment = $("#selectsubdepartment").val()
                let departmentitemgroup = $("#selectdepartmentitemgroup").val()
                let subdepartmentitemgroup = departmentitemgroup.substring(0, 3)
                let stocknumber = departmentcode + "/" + subdepartmentitemgroup
                //let itemnumber = departmentcode + "/" + 
                
                let itemform = $("#selectform").val()
                let itemstate = $("#selectstate").val()

            //get item strength
            let itemstrength = ""
                if($("#checkcombinedstrength").is(":checked")){
                        $("#combineditemstrengthform").show()
                        let genericname = $("#selectgenericname").val()
                        genericname = genericname.replaceAll("/",".")
                        let genericnamesplit = genericname.split(".")
                        let combinedarray = genericnamesplit
                        let i =0
                        let solidinputweights = ``
                        let liquidinputweights = ``
                        let gasinputweights = ``
                        let serviceinputweights = ``
                        let iteminputweights = ``
                        let reagentinputweights = ``
                        let nonreagentinputweights = ``
                        let gasreagentinputweights = ``
                        console.log(combinedarray)
                        combinedarray.forEach(val => {
                            i++
                            solidinputweights = `#solid_weight_` + i  
                            liquidinputweights = `#liquid_weight_` + i  
                            gasinputweights =  `#gas_weight_` + i 
                            serviceinputweights = `#service_weight_` + i 
                            iteminputweights = `#item_weight_` + i 
                            capitaliteminputweights = `#capitalitem_weight_` + i 
                            reagentinputweights = `#reagent_weight_` + i 
                            nonreagentinputweights = `#nonreagent_weight_` + i 
                            gasreagentinputweights = `#gasreagent_weight_` + i 
                            console.log(val)
                            if(itemstate=="Solid"){
                                itemstrength += $(solidinputweights).val() + "/"
                            } else if(itemstate=="Liquid" || itemstate=="Solution"){
                                itemstrength += $(liquidinputweights).val() + "/"
                            } else if(itemstate=="Gas"){
                                itemstrength += $(gasinputweights).val() + "/"
                            } else if(itemstate=="Service"){
                                itemstrength += $(serviceinputweights).val() + "/"
                            } else if(itemstate=="Sundry Items"){
                                itemstrength += $(iteminputweights).val() + "/"
                            }else if(itemstate=="Capital Items"){
                                itemstrength += $(capitaliteminputweights).val() + "/"
                            }else if(itemstate=="Liquid-Liquid Solution"){
                                itemstrength += $(reagentinputweights).val() + "/"
                            } else if(itemstate=="Solid-Liquid Solution"){
                                itemstrength += $(nonreagentinputweights).val() + "/"
                            } else if(itemstate=="Gas-Liquid Solution"){
                                itemstrength += $(gasreagentinputweights).val() + "/"
                            }
                        });
                        console.log(itemstrength)
                        //console.log($("#combinedgenericname").val())
                    } else {

                        if(itemstate=="Solid"){
                            itemstrength = $("#solid_weight_0").val() + "."
                        } else if(itemstate=="Liquid" || itemstate=="Solution"){
                            itemstrength = $("#liquid_weight_0").val() + "."
                        } else if(itemstate=="Gas"){
                            itemstrength = $("#gas_weight_0").val() + "."
                        } else if(itemstate=="Service"){
                            itemstrength = $("#service_weight_0").val() + "."
                        } else if(itemstate=="Sundry Items"){
                            itemstrength = $("#item_weight_0").val() + "."
                        } else if(itemstate=="Capital Items"){
                            itemstrength = $("#capitalitem_weight_0").val() + "."
                        } else if(itemstate=="Liquid-Liquid Solution"){
                            itemstrength = $("#reagent_weight_0").val() + "."
                        } else if(itemstate=="Solid-Liquid Solution"){
                            itemstrength = $("#nonreagent_weight_0").val() + "."
                        } else if(itemstate=="Gas-Liquid Solution"){
                            itemstrength = $("#gasreagent_weight_0").val() + "."
                        }
         


                        //$("#combineditemstrengthform").hide()
                    }

                    itemstrength = itemstrength.substring(0,itemstrength.length - 1)
                    console.log(itemstrength)

                    let weight = ""
                    let strengthform = ""
                    let container = ""
                    let volumeunit = ""
                    let volumevalue = ""
                    let volume = ""
                    let involumevalue = ""
                    let involume = ""
                    let timevalue = ""
                    let time = ""
                    let route = ""
                    let service = ""
                    let serviceduration = ""
                    let itemduration = ""
                    let capitalitemduration = ""
                    let itemunit = ""
                    let strengthvalue = ""
                    let item = ""
                    let pieces = ""
                    let actualpieces = parseFloat($("#actualpieces").val())
                    let actualweight = parseFloat($("#actualweight").val())
                    let actualvolume = parseFloat($("#actualvolume").val())
                    let actuallength = parseFloat($("#actuallength").val())
                    let actualservice = parseFloat($("#actualservice").val())
                    let actualmicrogram = parseFloat($("#actualmicrogram").val())
                    let actualinternationalunit = parseFloat($("#actualinternationalunit").val())
                    //check for state
                    if(itemstate=="Liquid"){
                        strengthform = $("#selectliquidform").val()
                    }
                    if(itemstate=="Solid"){
                        
                        weight = $("#selectsolidweightunit").val()
                        strengthform = $("#selectsolidform").val()
                        breakform = strengthform.split(",")
                        container = $("#selectsolidcontainer").val()
                        pieces = $("#solidpieces").val()
                        // actualpieces = parseFloat($("#solidpieces").val())
                        // actualweight = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + weight + "/" + strengthform + " per " + container + " of " + pieces + " " + strengthform + "(s)"
                    } else if(itemstate=="Liquid" || itemstate=="Solution"){
                        // weight = $("#selectliquidweightunit").val()
                        // volumevalue = $("#liquidvolumevalue").val()
                        volume = $("#selectliquidvolumeunit").val()
                        involumevalue = $("#liquidcontainervolumevalue").val()
                        involume = $("#selectliquidcontainervolumeunit").val()

                        container = $("#selectliquidcontainer").val()
                        // actualweight = parseFloat(itemstrength)
                        // actualvolume = parseFloat(involumevalue)
                        strengthvalue = itemstrength + " " + volume + " " + strengthform + "/ " + involumevalue + " " + involume + " of " + container
                    } else if(itemstate=="Gas"){
                        // weight = $("#selectgasweightunit").val()
                        // volumevalue = $("#gasvolumevalue").val()
                        volume = $("#selectgasvolumeunit").val()
                        involumevalue = $("#gascontainervolume").val()
                        involume = $("#selectgascontainervolumeunit").val()
                        container = $("#selectgascontainer").val()
                        // actualweight = parseFloat(itemstrength)
                        // actualvolume = parseFloat($("#gasvolumevalue").val())
                        strengthvalue = itemstrength + " " + volume + " / " + involumevalue + " " + involume + " in " + container
                    } else if(itemstate=="Service"){
                        service = $("#selectserviceunit").val()
                        route = $("#selectserviceroute").val()
                        serviceduration = $("#selectserviceduration").val() + " " + $("#selectserviceperiod").val()
                        // actualpieces = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + service + "/" + route + " " + serviceduration
                    } else if(itemstate=="Sundry Items"){
                        item = $("#selectitemunit").val()
                        pieces = $("#selectitemquantity").val()
                        route = $("#selectitemroute").val()
                        itemduration = $("#selectitemduration").val() + " " + $("#selectitemperiod").val()
                        // actualpieces = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + item + " of_" + pieces + "_" + route + "/" + itemduration
                        // strengthvalue = itemstrength + " " + item + "/" + route + " " + itemduration
                    } else if(itemstate=="Capital Items"){
                        item = $("#capitalselectitemunit").val()
                        route = $("#capitalselectitemroute").val()
                        capitalitemduration = $("#capitalselectitemduration").val() + " " + $("#capitalselectitemperiod").val()
                        // actualpieces = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + item + "/" + route + " " + capitalitemduration
                    } else if(itemstate=="Liquid-Liquid Solution"){
                        volumeunit = $("#selectreagentvolume").val()
                        volumevalue = $("#liquidsolutionvalue").val()
                        volume = $("#selectliquidsolutionvolume").val()
                        involumevalue = $("#liquidsolutioncontainervalue").val()
                        involume = $("#selectliquidsolutioncontainervolume").val()
                        container = $("#selectreagentcontainer").val()
                        strengthform = $("#selectliquidform").val()
                        // actualvolume = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + volumeunit + " in " + volumevalue + " " + volume + "_" + strengthform + "/" + involumevalue + " " + involume + " " + container
                    } else if(itemstate=="Solid-Liquid Solution"){
                        weight = $("#selectnonreagentweight").val()
                        volumevalue = $("#solidsolutionvalue").val()
                        volume = $("#selectsolidsolutionvolume").val()
                        involumevalue = $("#solidsolutioncontainervalue").val()
                        involume = $("#selectsolidsolutioncontainervolume").val()
                        container = $("#selectnonreagentcontainer").val()
                        strengthform = $("#selectnonreagentform").val()
                        // actualvolume = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + weight + " in " + volumevalue + " " + volume + "_" + strengthform + "/" + involumevalue + " " + involume + " " + container
                    } else if(itemstate=="Gas-Liquid Solution"){
                        volumeunit = $("#selectgasreagentvolume").val()
                        volumevalue = $("#gassolutionvalue").val()
                        volume = $("#selectgassolutionvolume").val()
                        involumevalue = $("#gassolutioncontainervalue").val()
                        involume = $("#selectgassolutioncontainervolume").val()
                        container = $("#selectgasreagentcontainer").val()
                        // actualvolume = parseFloat(itemstrength)
                        strengthvalue = itemstrength + " " + volumeunit + " in " + volumevalue + " " + volume + "/" + involumevalue + " " + involume + " " + container
                    }
        
                let specimen = $("#specimen").val()
                let sample = $("#sample").val()
                let specialinstruction = $("#specialinstruction").val()
                let usagegrouptype = ""
                let usagegroup = $("#selectusagegroup").val()
                let usageclass = $("#selectusageclass").val()
                let usagesubclass = $("#selectusagesubclass").val()
                let usageroutetype = ""
                let usageroute = ""
                let itemformabbreviation = $("#selectformabbr").text()
                let itemformcode = $("#selectformcode").text()

                let combined = $("#combined").val()
                let genericnamecb = $("#genericnamecb").val()
                let splitgenericname = genericname.split(".")
                genericname = splitgenericname[0]

                //generate stock number
                let deptabbreviation = department.substring(0, 3)
                let deptitmgrpabbreviation =departmentitemgroup.substring(0,3 )
                let stockitemnumber = deptabbreviation + "/" + deptitmgrpabbreviation 
                console.log(stockitemnumber)
                let itemid = $("#stockitemid").val()
                let editItem = "editItem"
                $.post("controllers/combo-setup.php", {
                    genericname:genericname,
                    combined:combined,
                    genericnamecb:genericnamecb,
                    stockitemnumber:stockitemnumber,
                    stocknumber:stocknumber,
                    codename:codename,
                    department:department,
                    departmentcode:departmentcode,
                    subdepartmentcode:subdepartmentcode,
                    subdepartment:subdepartment,
                    departmentitemgroup:departmentitemgroup,
                    itemform:itemform,
                    itemformabbreviation:itemformabbreviation,
                    itemformcode:itemformcode,
                    itemstate:itemstate,
                    itemstrength:itemstrength,
                    weight:weight,
                    strengthform:strengthform,
                    container:container,
                    volumevalue:volumevalue,
                    involumevalue:involumevalue,
                    involume:involume,
                    volume:volume,
                    volumeunit:volumeunit,
                    timevalue:timevalue,
                    time:time,
                    route:route,
                    service:service,
                    usagegrouptype:usagegrouptype,
                    usagegroup:usagegroup,
                    usageclass:usageclass,
                    usagesubclass:usagesubclass,
                    usageroutetype:usageroutetype,
                    usageroute:usageroute,
                    strengthvalue:strengthvalue,
                    actualpieces:actualpieces,
                    actualweight:actualweight,
                    actualvolume:actualvolume,
                    actuallength:actuallength,
                    actualservice:actualservice,
                    actualmicrogram:actualmicrogram,
                    actualinternationalunit:actualinternationalunit,
                    itemid:itemid,
                    specimen:specimen,
                    sample:sample,
                    specialinstruction:specialinstruction,
                    editItem:editItem
                },function(data){
                    $("#stockitem-status").html(data)
                    GetStockItemFunction()
                })
            })

            $("#delete-stockitem-button").on("click", function(evt){
                evt.preventDefault()

                let deleteItem = "deleteItem"
                let itemid = $("#stockitemid").val()
                console.log(itemid)
                $.post("controllers/combo-setup.php", {itemid:itemid,
                    deleteItem:deleteItem},function(data){
                    $("#stockitem-status").html(data)
                    GetStockItemFunction()
                    GetItemSearchFunction()
                })
            })


            $("#cancel-stockitem-button").on("click",function(evt){
                evt.preventDefault();
                GetStockItemFunction()
            })

        })

    </script>
</body>

</html>